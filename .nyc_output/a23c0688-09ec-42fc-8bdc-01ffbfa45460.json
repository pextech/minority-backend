{"/Users/mupenzi/Desktop/minority-backend/src/server.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/server.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":27}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":26}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":39}},"8":{"start":{"line":20,"column":16},"end":{"line":20,"column":59}},"9":{"start":{"line":22,"column":11},"end":{"line":22,"column":51}},"10":{"start":{"line":24,"column":14},"end":{"line":24,"column":71}},"11":{"start":{"line":26,"column":14},"end":{"line":26,"column":64}},"12":{"start":{"line":29,"column":11},"end":{"line":29,"column":68}},"13":{"start":{"line":31,"column":13},"end":{"line":48,"column":4}},"14":{"start":{"line":32,"column":2},"end":{"line":47,"column":14}},"15":{"start":{"line":33,"column":4},"end":{"line":46,"column":5}},"16":{"start":{"line":34,"column":6},"end":{"line":45,"column":7}},"17":{"start":{"line":36,"column":10},"end":{"line":40,"column":13}},"18":{"start":{"line":37,"column":12},"end":{"line":37,"column":60}},"19":{"start":{"line":39,"column":12},"end":{"line":39,"column":71}},"20":{"start":{"line":44,"column":10},"end":{"line":44,"column":33}},"21":{"start":{"line":50,"column":18},"end":{"line":60,"column":1}},"22":{"start":{"line":51,"column":2},"end":{"line":59,"column":3}},"23":{"start":{"line":52,"column":4},"end":{"line":56,"column":7}},"24":{"start":{"line":53,"column":6},"end":{"line":53,"column":47}},"25":{"start":{"line":55,"column":6},"end":{"line":55,"column":22}},"26":{"start":{"line":58,"column":4},"end":{"line":58,"column":20}},"27":{"start":{"line":62,"column":29},"end":{"line":66,"column":1}},"28":{"start":{"line":63,"column":2},"end":{"line":63,"column":34}},"29":{"start":{"line":65,"column":2},"end":{"line":65,"column":16}},"30":{"start":{"line":68,"column":0},"end":{"line":68,"column":56}},"31":{"start":{"line":69,"column":0},"end":{"line":69,"column":57}},"32":{"start":{"line":70,"column":0},"end":{"line":76,"column":3}},"33":{"start":{"line":71,"column":2},"end":{"line":71,"column":46}},"34":{"start":{"line":73,"column":2},"end":{"line":75,"column":3}},"35":{"start":{"line":74,"column":4},"end":{"line":74,"column":19}},"36":{"start":{"line":77,"column":15},"end":{"line":77,"column":21}},"37":{"start":{"line":78,"column":0},"end":{"line":78,"column":30}}},"fnMap":{"0":{"name":"_callee","decl":{"start":{"line":31,"column":142},"end":{"line":31,"column":149}},"loc":{"start":{"line":31,"column":152},"end":{"line":48,"column":1}},"line":31},"1":{"name":"_callee$","decl":{"start":{"line":32,"column":47},"end":{"line":32,"column":55}},"loc":{"start":{"line":32,"column":66},"end":{"line":47,"column":3}},"line":32},"2":{"name":"(anonymous_2)","decl":{"start":{"line":36,"column":114},"end":{"line":36,"column":115}},"loc":{"start":{"line":36,"column":126},"end":{"line":40,"column":11}},"line":36},"3":{"name":"exitHandler","decl":{"start":{"line":50,"column":27},"end":{"line":50,"column":38}},"loc":{"start":{"line":50,"column":41},"end":{"line":60,"column":1}},"line":50},"4":{"name":"(anonymous_4)","decl":{"start":{"line":52,"column":17},"end":{"line":52,"column":18}},"loc":{"start":{"line":52,"column":29},"end":{"line":56,"column":5}},"line":52},"5":{"name":"unexpectedErrorHandler","decl":{"start":{"line":62,"column":38},"end":{"line":62,"column":60}},"loc":{"start":{"line":62,"column":68},"end":{"line":66,"column":1}},"line":62},"6":{"name":"(anonymous_6)","decl":{"start":{"line":70,"column":22},"end":{"line":70,"column":23}},"loc":{"start":{"line":70,"column":34},"end":{"line":76,"column":1}},"line":70}},"branchMap":{"0":{"loc":{"start":{"line":29,"column":11},"end":{"line":29,"column":68}},"type":"cond-expr","locations":[{"start":{"line":29,"column":45},"end":{"line":29,"column":61}},{"start":{"line":29,"column":64},"end":{"line":29,"column":68}}],"line":29},"1":{"loc":{"start":{"line":34,"column":6},"end":{"line":45,"column":7}},"type":"switch","locations":[{"start":{"line":35,"column":8},"end":{"line":40,"column":13}},{"start":{"line":42,"column":8},"end":{"line":42,"column":15}},{"start":{"line":43,"column":8},"end":{"line":44,"column":33}}],"line":34},"2":{"loc":{"start":{"line":51,"column":2},"end":{"line":59,"column":3}},"type":"if","locations":[{"start":{"line":51,"column":2},"end":{"line":59,"column":3}},{"start":{"line":51,"column":2},"end":{"line":59,"column":3}}],"line":51},"3":{"loc":{"start":{"line":73,"column":2},"end":{"line":75,"column":3}},"type":"if","locations":[{"start":{"line":73,"column":2},"end":{"line":75,"column":3}},{"start":{"line":73,"column":2},"end":{"line":75,"column":3}}],"line":73}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":1,"31":1,"32":1,"33":0,"34":0,"35":0,"36":1,"37":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{"0":[0,1],"1":[0,0,0],"2":[0,0],"3":[0,0]},"inputSourceMap":{"version":3,"sources":["server.js"],"names":["PORT","process","env","NODE_ENV","server","app","listen","mongoose","connect","config","url","options","then","logger","info","exitHandler","close","exit","unexpectedErrorHandler","error","on"],"mappings":";;;;;;;;;;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAPA;AASA,IAAMA,IAAI,GACRC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,GAAkCF,OAAO,CAACC,GAAR,CAAYF,IAA9C,GAAqD,IADvD;;AAGA,IAAMI,MAAM,GAAGC,gBAAIC,MAAJ,CAAWN,IAAX,6FAAiB;AAAA;AAAA;AAAA;AAAA;AAC9BO,+BACGC,OADH,CACWC,mBAAOF,QAAP,CAAgBG,GAD3B,EACgCD,mBAAOF,QAAP,CAAgBI,OADhD,EAEGC,IAFH,CAEQ,YAAM;AACVC,+BAAOC,IAAP,CAAY,sBAAZ;;AACAD,+BAAOC,IAAP,6BAAiCd,IAAjC;AACD,WALH;;AAD8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB,GAAf;;AASA,IAAMe,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,MAAIX,MAAJ,EAAY;AACVA,IAAAA,MAAM,CAACY,KAAP,CAAa,YAAM;AACjBH,yBAAOC,IAAP,CAAY,eAAZ;;AACAb,MAAAA,OAAO,CAACgB,IAAR,CAAa,CAAb;AACD,KAHD;AAID,GALD,MAKO;AACLhB,IAAAA,OAAO,CAACgB,IAAR,CAAa,CAAb;AACD;AACF,CATD;;AAWA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,KAAD,EAAW;AACxCN,qBAAOM,KAAP,CAAaA,KAAb;;AACAJ,EAAAA,WAAW;AACZ,CAHD;;AAKAd,OAAO,CAACmB,EAAR,CAAW,mBAAX,EAAgCF,sBAAhC;AACAjB,OAAO,CAACmB,EAAR,CAAW,oBAAX,EAAiCF,sBAAjC;AAEAjB,OAAO,CAACmB,EAAR,CAAW,SAAX,EAAsB,YAAM;AAC1BP,qBAAOC,IAAP,CAAY,kBAAZ;;AACA,MAAIV,MAAJ,EAAY;AACVA,IAAAA,MAAM,CAACY,KAAP;AACD;AACF,CALD;eAOeZ,M","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/","sourcesContent":["/* eslint-disable import/no-mutable-exports */\nimport '@babel/polyfill';\nimport 'core-js/stable';\nimport 'regenerator-runtime/runtime';\nimport mongoose from 'mongoose';\nimport app from './app';\nimport logger from './config/logger.config';\nimport config from './config/config';\n\nconst PORT =\n  process.env.NODE_ENV !== 'test' ? process.env.PORT : 5000;\n\nconst server = app.listen(PORT, async () => {\n  mongoose\n    .connect(config.mongoose.url, config.mongoose.options)\n    .then(() => {\n      logger.info('Connected to MongoDB');\n      logger.info(`Listening to port ${PORT}`);\n    });\n});\n\nconst exitHandler = () => {\n  if (server) {\n    server.close(() => {\n      logger.info('Server closed');\n      process.exit(1);\n    });\n  } else {\n    process.exit(1);\n  }\n};\n\nconst unexpectedErrorHandler = (error) => {\n  logger.error(error);\n  exitHandler();\n};\n\nprocess.on('uncaughtException', unexpectedErrorHandler);\nprocess.on('unhandledRejection', unexpectedErrorHandler);\n\nprocess.on('SIGTERM', () => {\n  logger.info('SIGTERM received');\n  if (server) {\n    server.close();\n  }\n});\n\nexport default server;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"088c69912e2d5ad53bd617974d8dd2c5b06e62b1","contentHash":"19db3eee6d6da8240cac8b29c2ca9d332753446aacbecf58dabb26bd9e623cf6"},"/Users/mupenzi/Desktop/minority-backend/src/app.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/app.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":18},"end":{"line":12,"column":64}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":55}},"6":{"start":{"line":16,"column":14},"end":{"line":16,"column":55}},"7":{"start":{"line":18,"column":12},"end":{"line":18,"column":51}},"8":{"start":{"line":20,"column":15},"end":{"line":20,"column":59}},"9":{"start":{"line":22,"column":10},"end":{"line":22,"column":36}},"10":{"start":{"line":23,"column":0},"end":{"line":23,"column":33}},"11":{"start":{"line":24,"column":0},"end":{"line":24,"column":35}},"12":{"start":{"line":25,"column":0},"end":{"line":25,"column":40}},"13":{"start":{"line":26,"column":0},"end":{"line":30,"column":4}},"14":{"start":{"line":31,"column":0},"end":{"line":33,"column":4}},"15":{"start":{"line":34,"column":0},"end":{"line":34,"column":40}},"16":{"start":{"line":35,"column":15},"end":{"line":35,"column":18}},"17":{"start":{"line":36,"column":0},"end":{"line":36,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["app.js"],"names":["app","use","bodyParser","urlencoded","extended","limit","parameterLimit","json","indexRouter"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,uBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQ,yBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQ,wBAAO,KAAP,CAAR;AAEAD,GAAG,CAACC,GAAJ,CACEC,uBAAWC,UAAX,CAAsB;AACpBC,EAAAA,QAAQ,EAAE,KADU;AAEpBC,EAAAA,KAAK,EAAE,OAFa;AAGpBC,EAAAA,cAAc,EAAE;AAHI,CAAtB,CADF;AAOAN,GAAG,CAACC,GAAJ,CAAQC,uBAAWK,IAAX,CAAgB;AAAEF,EAAAA,KAAK,EAAE;AAAT,CAAhB,CAAR;AAEAL,GAAG,CAACC,GAAJ,CAAQ,SAAR,EAAmBO,mBAAnB;eAEeR,G","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/","sourcesContent":["import express from 'express';\nimport bodyParser from 'body-parser';\nimport morgan from 'morgan';\nimport helmet from 'helmet';\nimport cors from 'cors';\nimport indexRouter from './modules';\n\nconst app = express();\n\napp.use(cors());\napp.use(helmet());\napp.use(morgan('dev'));\n\napp.use(\n  bodyParser.urlencoded({\n    extended: false,\n    limit: '500mb',\n    parameterLimit: 500,\n  }),\n);\napp.use(bodyParser.json({ limit: '500mb' }));\n\napp.use('/api/v1', indexRouter);\n\nexport default app;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d367add5426ec06f05bb12a2a55ad710b51a4c52","contentHash":"45f61bc1f47811781ae2242e6cc38470be55bb0af22191258b05d0b4d3a4d93a"},"/Users/mupenzi/Desktop/minority-backend/src/modules/index.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/modules/index.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":33}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":53}},"5":{"start":{"line":14,"column":12},"end":{"line":14,"column":64}},"6":{"start":{"line":16,"column":18},"end":{"line":16,"column":40}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":43}},"8":{"start":{"line":18,"column":0},"end":{"line":18,"column":43}},"9":{"start":{"line":19,"column":0},"end":{"line":19,"column":51}},"10":{"start":{"line":20,"column":15},"end":{"line":20,"column":26}},"11":{"start":{"line":21,"column":0},"end":{"line":21,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["indexRouter","use","homeRouter","userRouter"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,WAAW,GAAG,sBAApB;AAEAA,WAAW,CAACC,GAAZ,CAAgB,OAAhB,EAAyBC,gBAAzB;AACAF,WAAW,CAACC,GAAZ,CAAgB,OAAhB,EAAyBE,gBAAzB;AACAH,WAAW,CAACC,GAAZ,CAAgB,eAAhB,EAAiCE,gBAAjC;eAEeH,W","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/modules/","sourcesContent":["import { Router } from 'express';\nimport homeRouter from './home';\nimport userRouter from './auth/user.route';\n\nconst indexRouter = Router();\n\nindexRouter.use('/home', homeRouter);\nindexRouter.use('/user', userRouter);\nindexRouter.use('/edit-profile', userRouter);\n\nexport default indexRouter;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"07ad3320fc930926c0e56390300d90ca0fe4397e","contentHash":"1b9464e2f6f47d5059f0b5e327968b518788c7e5003e5569b09eccce2823eea0"},"/Users/mupenzi/Desktop/minority-backend/src/modules/home/index.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/modules/home/index.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":33}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":64}},"5":{"start":{"line":14,"column":17},"end":{"line":14,"column":39}},"6":{"start":{"line":15,"column":0},"end":{"line":15,"column":38}},"7":{"start":{"line":16,"column":15},"end":{"line":16,"column":25}},"8":{"start":{"line":17,"column":0},"end":{"line":17,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["homeRouter","get","home"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,UAAU,GAAG,sBAAnB;AAEAA,UAAU,CAACC,GAAX,CAAe,GAAf,EAAoBC,gBAApB;eAEeF,U","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/modules/home/","sourcesContent":["import { Router } from 'express';\nimport home from './home.controller';\n\nconst homeRouter = Router();\n\nhomeRouter.get('/', home);\n\nexport default homeRouter;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6ef3720d14b8a4015e6d8d594b519fc998ad3664","contentHash":"ccf181678ad65f90b82f8e487347cabc89b2eb73e4239464e7543f2e7371a563"},"/Users/mupenzi/Desktop/minority-backend/src/modules/home/home.controller.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/modules/home/home.controller.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":18},"end":{"line":10,"column":40}},"4":{"start":{"line":12,"column":16},"end":{"line":12,"column":76}},"5":{"start":{"line":15,"column":2},"end":{"line":19,"column":3}},"6":{"start":{"line":16,"column":4},"end":{"line":16,"column":97}},"7":{"start":{"line":18,"column":4},"end":{"line":18,"column":107}},"8":{"start":{"line":22,"column":15},"end":{"line":22,"column":19}},"9":{"start":{"line":23,"column":0},"end":{"line":23,"column":30}}},"fnMap":{"0":{"name":"home","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":13}},"loc":{"start":{"line":14,"column":25},"end":{"line":20,"column":1}},"line":14}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"sources":["home.controller.js"],"names":["home","_req","res","ResponseUtil","handleSuccessResponse","OK","error","handleErrorResponse","INTERNAL_SERVER_ERROR","message"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA,SAASA,IAAT,CAAcC,IAAd,EAAoBC,GAApB,EAAyB;AACvB,MAAI;AACF,WAAOC,qBAAaC,qBAAb,CACLC,cADK,EAEL,gBAFK,EAGL,EAHK,EAILH,GAJK,CAAP;AAMD,GAPD,CAOE,OAAOI,KAAP,EAAc;AACd,WAAOH,qBAAaI,mBAAb,CACLC,iCADK,EAELF,KAAK,CAACG,OAFD,EAGLP,GAHK,CAAP;AAKD;AACF;;eAEcF,I","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/modules/home/","sourcesContent":["import { INTERNAL_SERVER_ERROR, OK } from 'http-status';\nimport ResponseUtil from '../../utils/response.util';\n\nfunction home(_req, res) {\n  try {\n    return ResponseUtil.handleSuccessResponse(\n      OK,\n      'Up and Running',\n      '',\n      res,\n    );\n  } catch (error) {\n    return ResponseUtil.handleErrorResponse(\n      INTERNAL_SERVER_ERROR,\n      error.message,\n      res,\n    );\n  }\n}\n\nexport default home;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"869201022f55e36ebae96d26b81a40eaab6598ec","contentHash":"c090e721b9162377666a50bc5ee8e6a374bb09e6a3063f2238781519ced7d075"},"/Users/mupenzi/Desktop/minority-backend/src/utils/response.util.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/utils/response.util.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":23},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":89}},"5":{"start":{"line":17,"column":32},"end":{"line":110,"column":3}},"6":{"start":{"line":19,"column":4},"end":{"line":19,"column":57}},"7":{"start":{"line":22,"column":2},"end":{"line":108,"column":6}},"8":{"start":{"line":33,"column":6},"end":{"line":33,"column":35}},"9":{"start":{"line":34,"column":6},"end":{"line":34,"column":29}},"10":{"start":{"line":35,"column":6},"end":{"line":35,"column":23}},"11":{"start":{"line":36,"column":6},"end":{"line":36,"column":28}},"12":{"start":{"line":48,"column":6},"end":{"line":48,"column":35}},"13":{"start":{"line":49,"column":6},"end":{"line":49,"column":29}},"14":{"start":{"line":50,"column":6},"end":{"line":50,"column":26}},"15":{"start":{"line":61,"column":6},"end":{"line":74,"column":7}},"16":{"start":{"line":62,"column":8},"end":{"line":67,"column":9}},"17":{"start":{"line":63,"column":10},"end":{"line":66,"column":13}},"18":{"start":{"line":69,"column":8},"end":{"line":73,"column":11}},"19":{"start":{"line":76,"column":6},"end":{"line":79,"column":9}},"20":{"start":{"line":92,"column":6},"end":{"line":92,"column":49}},"21":{"start":{"line":93,"column":6},"end":{"line":93,"column":28}},"22":{"start":{"line":105,"column":6},"end":{"line":105,"column":46}},"23":{"start":{"line":106,"column":6},"end":{"line":106,"column":28}},"24":{"start":{"line":109,"column":2},"end":{"line":109,"column":22}},"25":{"start":{"line":112,"column":15},"end":{"line":112,"column":27}},"26":{"start":{"line":113,"column":0},"end":{"line":113,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":17,"column":32},"end":{"line":17,"column":33}},"loc":{"start":{"line":17,"column":44},"end":{"line":110,"column":1}},"line":17},"1":{"name":"ResponseUtil","decl":{"start":{"line":18,"column":11},"end":{"line":18,"column":23}},"loc":{"start":{"line":18,"column":26},"end":{"line":20,"column":3}},"line":18},"2":{"name":"setSuccess","decl":{"start":{"line":32,"column":20},"end":{"line":32,"column":30}},"loc":{"start":{"line":32,"column":58},"end":{"line":37,"column":5}},"line":32},"3":{"name":"setError","decl":{"start":{"line":47,"column":20},"end":{"line":47,"column":28}},"loc":{"start":{"line":47,"column":50},"end":{"line":51,"column":5}},"line":47},"4":{"name":"send","decl":{"start":{"line":60,"column":20},"end":{"line":60,"column":24}},"loc":{"start":{"line":60,"column":30},"end":{"line":80,"column":5}},"line":60},"5":{"name":"handleSuccessResponse","decl":{"start":{"line":91,"column":20},"end":{"line":91,"column":41}},"loc":{"start":{"line":91,"column":74},"end":{"line":94,"column":5}},"line":91},"6":{"name":"handleErrorResponse","decl":{"start":{"line":104,"column":20},"end":{"line":104,"column":39}},"loc":{"start":{"line":104,"column":66},"end":{"line":107,"column":5}},"line":104}},"branchMap":{"0":{"loc":{"start":{"line":61,"column":6},"end":{"line":74,"column":7}},"type":"if","locations":[{"start":{"line":61,"column":6},"end":{"line":74,"column":7}},{"start":{"line":61,"column":6},"end":{"line":74,"column":7}}],"line":61},"1":{"loc":{"start":{"line":62,"column":8},"end":{"line":67,"column":9}},"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":67,"column":9}},{"start":{"line":62,"column":8},"end":{"line":67,"column":9}}],"line":62}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"sources":["response.util.js"],"names":["ResponseUtil","statusCode","message","data","type","res","status","json","setSuccess","send","setError"],"mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;IACMA,Y;;;;;;;;AACJ;AACF;AACA;AACA;AACA;AACA;AACA;+BACoBC,U,EAAYC,O,EAASC,I,EAAM;AAC3C,WAAKF,UAAL,GAAkBA,UAAlB;AACA,WAAKC,OAAL,GAAeA,OAAf;AACA,WAAKC,IAAL,GAAYA,IAAZ;AACA,WAAKC,IAAL,GAAY,SAAZ;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;;;6BACkBH,U,EAAYC,O,EAAS;AACnC,WAAKD,UAAL,GAAkBA,UAAlB;AACA,WAAKC,OAAL,GAAeA,OAAf;AACA,WAAKE,IAAL,GAAY,OAAZ;AACD;AAED;AACF;AACA;AACA;AACA;;;;yBACcC,G,EAAK;AACf,UAAI,KAAKD,IAAL,KAAc,SAAlB,EAA6B;AAC3B,YAAI,KAAKD,IAAL,KAAc,EAAlB,EAAsB;AACpB,iBAAOE,GAAG,CAACC,MAAJ,CAAW,KAAKL,UAAhB,EAA4BM,IAA5B,CAAiC;AACtCD,YAAAA,MAAM,EAAE,KAAKL,UADyB;AAEtCC,YAAAA,OAAO,EAAE,KAAKA;AAFwB,WAAjC,CAAP;AAID;;AAED,eAAOG,GAAG,CAACC,MAAJ,CAAW,KAAKL,UAAhB,EAA4BM,IAA5B,CAAiC;AACtCD,UAAAA,MAAM,EAAE,KAAKL,UADyB;AAEtCC,UAAAA,OAAO,EAAE,KAAKA,OAFwB;AAGtCC,UAAAA,IAAI,EAAE,KAAKA;AAH2B,SAAjC,CAAP;AAKD;;AACD,aAAOE,GAAG,CAACC,MAAJ,CAAW,KAAKL,UAAhB,EAA4BM,IAA5B,CAAiC;AACtCD,QAAAA,MAAM,EAAE,KAAKL,UADyB;AAEtCC,QAAAA,OAAO,EAAE,KAAKA;AAFwB,OAAjC,CAAP;AAID;AAED;AACF;AACA;AACA;AACA;AACA;AACA;;;;0CAC+BD,U,EAAYC,O,EAASC,I,EAAME,G,EAAK;AAC3D,WAAKG,UAAL,CAAgBP,UAAhB,EAA4BC,OAA5B,EAAqCC,IAArC;AACA,aAAO,KAAKM,IAAL,CAAUJ,GAAV,CAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;;;wCAC6BJ,U,EAAYC,O,EAASG,G,EAAK;AACnD,WAAKK,QAAL,CAAcT,UAAd,EAA0BC,OAA1B,EAAmCG,GAAnC;AACA,aAAO,KAAKI,IAAL,CAAUJ,GAAV,CAAP;AACD;;;;;eAEYL,Y","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/utils/","sourcesContent":["/**\n * Response util class\n */\nclass ResponseUtil {\n  /**\n   * * Function to run on success response\n   * @param  {integer} statusCode\n   * @param  {string} message\n   * @param  {object} data\n   * @returns {object}\n   */\n  static setSuccess(statusCode, message, data) {\n    this.statusCode = statusCode;\n    this.message = message;\n    this.data = data;\n    this.type = 'success';\n  }\n\n  /**\n   * * Returns object of failed response\n   * @param  {integer} statusCode\n   * @param  {string} message\n   * @returns {object}\n   */\n  static setError(statusCode, message) {\n    this.statusCode = statusCode;\n    this.message = message;\n    this.type = 'error';\n  }\n\n  /**\n   * * Function to send a response\n   * @param  {object} res\n   * @returns {object}\n   */\n  static send(res) {\n    if (this.type === 'success') {\n      if (this.data === '') {\n        return res.status(this.statusCode).json({\n          status: this.statusCode,\n          message: this.message,\n        });\n      }\n\n      return res.status(this.statusCode).json({\n        status: this.statusCode,\n        message: this.message,\n        data: this.data,\n      });\n    }\n    return res.status(this.statusCode).json({\n      status: this.statusCode,\n      message: this.message,\n    });\n  }\n\n  /**\n   * * Handle success response\n   * @param  {integer} statusCode status code\n   * @param  {string} message success message\n   * @param  {object} data if no data, pass empty string\n   * @param  {object} res response\n   */\n  static handleSuccessResponse(statusCode, message, data, res) {\n    this.setSuccess(statusCode, message, data);\n    return this.send(res);\n  }\n\n  /**\n   * * Handle error response\n   * @param  {integer} statusCode status code\n   * @param  {string} message error message\n   * @param  {object} res response\n   */\n  static handleErrorResponse(statusCode, message, res) {\n    this.setError(statusCode, message, res);\n    return this.send(res);\n  }\n}\nexport default ResponseUtil;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a7579b13f790b06b3180acff8bf56770ebfbedd8","contentHash":"05b00855be8b306883d5e1f1a68949e98cf47177e440cba31ddf0ad1c1215f74"},"/Users/mupenzi/Desktop/minority-backend/src/modules/auth/user.route.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/modules/auth/user.route.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":33}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":64}},"5":{"start":{"line":14,"column":13},"end":{"line":14,"column":41}},"6":{"start":{"line":16,"column":18},"end":{"line":16,"column":82}},"7":{"start":{"line":18,"column":13},"end":{"line":18,"column":41}},"8":{"start":{"line":20,"column":17},"end":{"line":20,"column":39}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":111}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":104}},"11":{"start":{"line":23,"column":0},"end":{"line":23,"column":136}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":79}},"13":{"start":{"line":25,"column":15},"end":{"line":25,"column":25}},"14":{"start":{"line":26,"column":0},"end":{"line":26,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["user.route.js"],"names":["userRouter","post","validateUserBody","checkEmailExists","AuthController","createAccount","validateLoginBody","checkUserCredential","login","patch","validateSecurePassword","checkPasswordCredentials","updatingPassword","editValidUser","editAccount"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAKA;;AACA;;AAMA,IAAMA,UAAU,GAAG,sBAAnB;AAEAA,UAAU,CAACC,IAAX,CACE,WADF,EAEEC,uBAFF,EAGEC,uBAHF,EAIEC,iBAAeC,aAJjB;AAMAL,UAAU,CAACC,IAAX,CACE,QADF,EAEEK,wBAFF,EAGEC,0BAHF,EAIEH,iBAAeI,KAJjB;AAMAR,UAAU,CAACS,KAAX,CACE,kBADF,EAEEC,6BAFF,EAGEC,+BAHF,EAIEP,iBAAeQ,gBAJjB;AAMAZ,UAAU,CAACS,KAAX,CAAiB,MAAjB,EAAyBI,sBAAzB,EAAwCT,iBAAeU,WAAvD;eAGed,U","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/modules/auth/","sourcesContent":["import { Router } from 'express';\nimport AuthController from './auth.controller';\nimport {\n  validateUserBody,\n  validateSecurePassword,\n  validateLoginBody,\n} from './auth.validation';\nimport editValidUser from '../account/helpers/validation';\nimport {\n  checkEmailExists,\n  checkPasswordCredentials,\n  checkUserCredential,\n} from './auth.middleware';\n\nconst userRouter = Router();\n\nuserRouter.post(\n  '/register',\n  validateUserBody,\n  checkEmailExists,\n  AuthController.createAccount,\n);\nuserRouter.post(\n  '/login',\n  validateLoginBody,\n  checkUserCredential,\n  AuthController.login,\n);\nuserRouter.patch(\n  '/secure-password',\n  validateSecurePassword,\n  checkPasswordCredentials,\n  AuthController.updatingPassword,\n);\nuserRouter.patch('/:id', editValidUser, AuthController.editAccount);\n\n\nexport default userRouter;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"69dffe4cfc3cc2287da34ca32f887d80b2a44cfc","contentHash":"b47a9b3fd3193c28952976f16f7bf9723a6088ac2b6b5a16b746e18b8cf96a6d"},"/Users/mupenzi/Desktop/minority-backend/src/modules/auth/auth.controller.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/modules/auth/auth.controller.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":23},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":19},"end":{"line":12,"column":80}},"5":{"start":{"line":14,"column":25},"end":{"line":14,"column":99}},"6":{"start":{"line":16,"column":23},"end":{"line":16,"column":95}},"7":{"start":{"line":18,"column":20},"end":{"line":18,"column":89}},"8":{"start":{"line":20,"column":18},"end":{"line":20,"column":40}},"9":{"start":{"line":22,"column":16},"end":{"line":22,"column":76}},"10":{"start":{"line":24,"column":14},"end":{"line":24,"column":72}},"11":{"start":{"line":26,"column":12},"end":{"line":26,"column":78}},"12":{"start":{"line":28,"column":15},"end":{"line":28,"column":83}},"13":{"start":{"line":30,"column":16},"end":{"line":30,"column":93}},"14":{"start":{"line":32,"column":11},"end":{"line":32,"column":66}},"15":{"start":{"line":34,"column":54},"end":{"line":34,"column":73}},"16":{"start":{"line":34,"column":75},"end":{"line":34,"column":326}},"17":{"start":{"line":34,"column":125},"end":{"line":34,"column":161}},"18":{"start":{"line":34,"column":163},"end":{"line":34,"column":292}},"19":{"start":{"line":34,"column":183},"end":{"line":34,"column":292}},"20":{"start":{"line":34,"column":225},"end":{"line":34,"column":288}},"21":{"start":{"line":34,"column":293},"end":{"line":34,"column":324}},"22":{"start":{"line":34,"column":327},"end":{"line":34,"column":339}},"23":{"start":{"line":36,"column":33},"end":{"line":36,"column":534}},"24":{"start":{"line":36,"column":46},"end":{"line":36,"column":47}},"25":{"start":{"line":36,"column":91},"end":{"line":36,"column":131}},"26":{"start":{"line":36,"column":133},"end":{"line":36,"column":532}},"27":{"start":{"line":36,"column":146},"end":{"line":36,"column":264}},"28":{"start":{"line":36,"column":201},"end":{"line":36,"column":260}},"29":{"start":{"line":36,"column":272},"end":{"line":36,"column":532}},"30":{"start":{"line":36,"column":312},"end":{"line":36,"column":386}},"31":{"start":{"line":36,"column":396},"end":{"line":36,"column":530}},"32":{"start":{"line":36,"column":445},"end":{"line":36,"column":526}},"33":{"start":{"line":36,"column":535},"end":{"line":36,"column":549}},"34":{"start":{"line":42,"column":34},"end":{"line":311,"column":3}},"35":{"start":{"line":44,"column":4},"end":{"line":44,"column":59}},"36":{"start":{"line":47,"column":2},"end":{"line":309,"column":6}},"37":{"start":{"line":57,"column":27},"end":{"line":82,"column":9}},"38":{"start":{"line":59,"column":8},"end":{"line":81,"column":36}},"39":{"start":{"line":60,"column":10},"end":{"line":80,"column":11}},"40":{"start":{"line":61,"column":12},"end":{"line":79,"column":13}},"41":{"start":{"line":63,"column":16},"end":{"line":63,"column":34}},"42":{"start":{"line":64,"column":16},"end":{"line":64,"column":34}},"43":{"start":{"line":65,"column":16},"end":{"line":65,"column":83}},"44":{"start":{"line":68,"column":16},"end":{"line":68,"column":37}},"45":{"start":{"line":69,"column":16},"end":{"line":69,"column":162}},"46":{"start":{"line":72,"column":16},"end":{"line":72,"column":34}},"47":{"start":{"line":73,"column":16},"end":{"line":73,"column":51}},"48":{"start":{"line":74,"column":16},"end":{"line":74,"column":155}},"49":{"start":{"line":78,"column":16},"end":{"line":78,"column":39}},"50":{"start":{"line":85,"column":8},"end":{"line":85,"column":53}},"51":{"start":{"line":88,"column":6},"end":{"line":88,"column":27}},"52":{"start":{"line":100,"column":19},"end":{"line":140,"column":9}},"53":{"start":{"line":102,"column":8},"end":{"line":139,"column":38}},"54":{"start":{"line":103,"column":10},"end":{"line":138,"column":11}},"55":{"start":{"line":104,"column":12},"end":{"line":137,"column":13}},"56":{"start":{"line":106,"column":16},"end":{"line":106,"column":39}},"57":{"start":{"line":107,"column":16},"end":{"line":107,"column":35}},"58":{"start":{"line":108,"column":16},"end":{"line":108,"column":35}},"59":{"start":{"line":109,"column":16},"end":{"line":113,"column":19}},"60":{"start":{"line":116,"column":16},"end":{"line":116,"column":35}},"61":{"start":{"line":117,"column":16},"end":{"line":119,"column":19}},"62":{"start":{"line":122,"column":16},"end":{"line":122,"column":38}},"63":{"start":{"line":123,"column":16},"end":{"line":123,"column":56}},"64":{"start":{"line":124,"column":16},"end":{"line":127,"column":25}},"65":{"start":{"line":130,"column":16},"end":{"line":130,"column":36}},"66":{"start":{"line":131,"column":16},"end":{"line":131,"column":53}},"67":{"start":{"line":132,"column":16},"end":{"line":132,"column":157}},"68":{"start":{"line":136,"column":16},"end":{"line":136,"column":40}},"69":{"start":{"line":143,"column":8},"end":{"line":143,"column":45}},"70":{"start":{"line":146,"column":6},"end":{"line":146,"column":19}},"71":{"start":{"line":151,"column":25},"end":{"line":201,"column":9}},"72":{"start":{"line":153,"column":8},"end":{"line":200,"column":38}},"73":{"start":{"line":154,"column":10},"end":{"line":199,"column":11}},"74":{"start":{"line":155,"column":12},"end":{"line":198,"column":13}},"75":{"start":{"line":157,"column":16},"end":{"line":157,"column":35}},"76":{"start":{"line":158,"column":16},"end":{"line":158,"column":35}},"77":{"start":{"line":159,"column":16},"end":{"line":159,"column":35}},"78":{"start":{"line":160,"column":16},"end":{"line":160,"column":53}},"79":{"start":{"line":163,"column":16},"end":{"line":163,"column":44}},"80":{"start":{"line":165,"column":16},"end":{"line":168,"column":17}},"81":{"start":{"line":166,"column":18},"end":{"line":166,"column":38}},"82":{"start":{"line":167,"column":18},"end":{"line":167,"column":24}},"83":{"start":{"line":170,"column":16},"end":{"line":170,"column":35}},"84":{"start":{"line":171,"column":16},"end":{"line":171,"column":73}},"85":{"start":{"line":174,"column":16},"end":{"line":174,"column":47}},"86":{"start":{"line":175,"column":16},"end":{"line":179,"column":20}},"87":{"start":{"line":182,"column":16},"end":{"line":185,"column":20}},"88":{"start":{"line":188,"column":16},"end":{"line":188,"column":36}},"89":{"start":{"line":189,"column":16},"end":{"line":189,"column":53}},"90":{"start":{"line":190,"column":16},"end":{"line":193,"column":20}},"91":{"start":{"line":197,"column":16},"end":{"line":197,"column":40}},"92":{"start":{"line":204,"column":8},"end":{"line":204,"column":51}},"93":{"start":{"line":207,"column":6},"end":{"line":207,"column":25}},"94":{"start":{"line":219,"column":30},"end":{"line":264,"column":9}},"95":{"start":{"line":222,"column":8},"end":{"line":263,"column":38}},"96":{"start":{"line":223,"column":10},"end":{"line":262,"column":11}},"97":{"start":{"line":224,"column":12},"end":{"line":261,"column":13}},"98":{"start":{"line":226,"column":16},"end":{"line":226,"column":93}},"99":{"start":{"line":227,"column":16},"end":{"line":227,"column":35}},"100":{"start":{"line":228,"column":16},"end":{"line":228,"column":35}},"101":{"start":{"line":229,"column":16},"end":{"line":233,"column":19}},"102":{"start":{"line":236,"column":16},"end":{"line":236,"column":35}},"103":{"start":{"line":237,"column":16},"end":{"line":239,"column":19}},"104":{"start":{"line":242,"column":16},"end":{"line":242,"column":38}},"105":{"start":{"line":243,"column":16},"end":{"line":243,"column":59}},"106":{"start":{"line":244,"column":16},"end":{"line":244,"column":44}},"107":{"start":{"line":246,"column":16},"end":{"line":246,"column":113}},"108":{"start":{"line":248,"column":16},"end":{"line":248,"column":82}},"109":{"start":{"line":251,"column":16},"end":{"line":251,"column":36}},"110":{"start":{"line":252,"column":16},"end":{"line":252,"column":53}},"111":{"start":{"line":254,"column":16},"end":{"line":254,"column":106}},"112":{"start":{"line":256,"column":16},"end":{"line":256,"column":82}},"113":{"start":{"line":260,"column":16},"end":{"line":260,"column":40}},"114":{"start":{"line":267,"column":8},"end":{"line":267,"column":56}},"115":{"start":{"line":270,"column":6},"end":{"line":270,"column":30}},"116":{"start":{"line":275,"column":18},"end":{"line":301,"column":9}},"117":{"start":{"line":277,"column":8},"end":{"line":300,"column":21}},"118":{"start":{"line":278,"column":10},"end":{"line":299,"column":11}},"119":{"start":{"line":279,"column":12},"end":{"line":298,"column":13}},"120":{"start":{"line":281,"column":16},"end":{"line":281,"column":35}},"121":{"start":{"line":282,"column":16},"end":{"line":282,"column":55}},"122":{"start":{"line":285,"column":16},"end":{"line":285,"column":35}},"123":{"start":{"line":286,"column":16},"end":{"line":286,"column":85}},"124":{"start":{"line":289,"column":16},"end":{"line":289,"column":42}},"125":{"start":{"line":291,"column":16},"end":{"line":291,"column":79}},"126":{"start":{"line":293,"column":16},"end":{"line":293,"column":82}},"127":{"start":{"line":297,"column":16},"end":{"line":297,"column":40}},"128":{"start":{"line":304,"column":8},"end":{"line":304,"column":44}},"129":{"start":{"line":307,"column":6},"end":{"line":307,"column":18}},"130":{"start":{"line":310,"column":2},"end":{"line":310,"column":24}},"131":{"start":{"line":313,"column":15},"end":{"line":313,"column":29}},"132":{"start":{"line":314,"column":0},"end":{"line":314,"column":30}}},"fnMap":{"0":{"name":"ownKeys","decl":{"start":{"line":34,"column":9},"end":{"line":34,"column":16}},"loc":{"start":{"line":34,"column":41},"end":{"line":34,"column":341}},"line":34},"1":{"name":"(anonymous_1)","decl":{"start":{"line":34,"column":208},"end":{"line":34,"column":209}},"loc":{"start":{"line":34,"column":223},"end":{"line":34,"column":290}},"line":34},"2":{"name":"_objectSpread","decl":{"start":{"line":36,"column":9},"end":{"line":36,"column":22}},"loc":{"start":{"line":36,"column":31},"end":{"line":36,"column":551}},"line":36},"3":{"name":"(anonymous_3)","decl":{"start":{"line":36,"column":184},"end":{"line":36,"column":185}},"loc":{"start":{"line":36,"column":199},"end":{"line":36,"column":262}},"line":36},"4":{"name":"(anonymous_4)","decl":{"start":{"line":36,"column":428},"end":{"line":36,"column":429}},"loc":{"start":{"line":36,"column":443},"end":{"line":36,"column":528}},"line":36},"5":{"name":"(anonymous_5)","decl":{"start":{"line":42,"column":34},"end":{"line":42,"column":35}},"loc":{"start":{"line":42,"column":46},"end":{"line":311,"column":1}},"line":42},"6":{"name":"AuthController","decl":{"start":{"line":43,"column":11},"end":{"line":43,"column":25}},"loc":{"start":{"line":43,"column":28},"end":{"line":45,"column":3}},"line":43},"7":{"name":"(anonymous_7)","decl":{"start":{"line":56,"column":11},"end":{"line":56,"column":12}},"loc":{"start":{"line":56,"column":23},"end":{"line":89,"column":5}},"line":56},"8":{"name":"_callee","decl":{"start":{"line":57,"column":114},"end":{"line":57,"column":121}},"loc":{"start":{"line":57,"column":132},"end":{"line":82,"column":7}},"line":57},"9":{"name":"_callee$","decl":{"start":{"line":59,"column":53},"end":{"line":59,"column":61}},"loc":{"start":{"line":59,"column":72},"end":{"line":81,"column":9}},"line":59},"10":{"name":"createAccount","decl":{"start":{"line":84,"column":15},"end":{"line":84,"column":28}},"loc":{"start":{"line":84,"column":38},"end":{"line":86,"column":7}},"line":84},"11":{"name":"(anonymous_11)","decl":{"start":{"line":99,"column":11},"end":{"line":99,"column":12}},"loc":{"start":{"line":99,"column":23},"end":{"line":147,"column":5}},"line":99},"12":{"name":"_callee2","decl":{"start":{"line":100,"column":106},"end":{"line":100,"column":114}},"loc":{"start":{"line":100,"column":125},"end":{"line":140,"column":7}},"line":100},"13":{"name":"_callee2$","decl":{"start":{"line":102,"column":53},"end":{"line":102,"column":62}},"loc":{"start":{"line":102,"column":74},"end":{"line":139,"column":9}},"line":102},"14":{"name":"login","decl":{"start":{"line":142,"column":15},"end":{"line":142,"column":20}},"loc":{"start":{"line":142,"column":31},"end":{"line":144,"column":7}},"line":142},"15":{"name":"(anonymous_15)","decl":{"start":{"line":150,"column":11},"end":{"line":150,"column":12}},"loc":{"start":{"line":150,"column":23},"end":{"line":208,"column":5}},"line":150},"16":{"name":"_callee3","decl":{"start":{"line":151,"column":112},"end":{"line":151,"column":120}},"loc":{"start":{"line":151,"column":131},"end":{"line":201,"column":7}},"line":151},"17":{"name":"_callee3$","decl":{"start":{"line":153,"column":53},"end":{"line":153,"column":62}},"loc":{"start":{"line":153,"column":74},"end":{"line":200,"column":9}},"line":153},"18":{"name":"editAccount","decl":{"start":{"line":203,"column":15},"end":{"line":203,"column":26}},"loc":{"start":{"line":203,"column":37},"end":{"line":205,"column":7}},"line":203},"19":{"name":"(anonymous_19)","decl":{"start":{"line":218,"column":11},"end":{"line":218,"column":12}},"loc":{"start":{"line":218,"column":23},"end":{"line":271,"column":5}},"line":218},"20":{"name":"_callee4","decl":{"start":{"line":219,"column":117},"end":{"line":219,"column":125}},"loc":{"start":{"line":219,"column":136},"end":{"line":264,"column":7}},"line":219},"21":{"name":"_callee4$","decl":{"start":{"line":222,"column":53},"end":{"line":222,"column":62}},"loc":{"start":{"line":222,"column":74},"end":{"line":263,"column":9}},"line":222},"22":{"name":"updatingPassword","decl":{"start":{"line":266,"column":15},"end":{"line":266,"column":31}},"loc":{"start":{"line":266,"column":42},"end":{"line":268,"column":7}},"line":266},"23":{"name":"(anonymous_23)","decl":{"start":{"line":274,"column":11},"end":{"line":274,"column":12}},"loc":{"start":{"line":274,"column":23},"end":{"line":308,"column":5}},"line":274},"24":{"name":"_callee5","decl":{"start":{"line":275,"column":105},"end":{"line":275,"column":113}},"loc":{"start":{"line":275,"column":124},"end":{"line":301,"column":7}},"line":275},"25":{"name":"_callee5$","decl":{"start":{"line":277,"column":53},"end":{"line":277,"column":62}},"loc":{"start":{"line":277,"column":74},"end":{"line":300,"column":9}},"line":277},"26":{"name":"seed","decl":{"start":{"line":303,"column":15},"end":{"line":303,"column":19}},"loc":{"start":{"line":303,"column":31},"end":{"line":305,"column":7}},"line":303}},"branchMap":{"0":{"loc":{"start":{"line":34,"column":75},"end":{"line":34,"column":326}},"type":"if","locations":[{"start":{"line":34,"column":75},"end":{"line":34,"column":326}},{"start":{"line":34,"column":75},"end":{"line":34,"column":326}}],"line":34},"1":{"loc":{"start":{"line":34,"column":163},"end":{"line":34,"column":292}},"type":"if","locations":[{"start":{"line":34,"column":163},"end":{"line":34,"column":292}},{"start":{"line":34,"column":163},"end":{"line":34,"column":292}}],"line":34},"2":{"loc":{"start":{"line":36,"column":91},"end":{"line":36,"column":131}},"type":"cond-expr","locations":[{"start":{"line":36,"column":114},"end":{"line":36,"column":126}},{"start":{"line":36,"column":129},"end":{"line":36,"column":131}}],"line":36},"3":{"loc":{"start":{"line":36,"column":133},"end":{"line":36,"column":532}},"type":"if","locations":[{"start":{"line":36,"column":133},"end":{"line":36,"column":532}},{"start":{"line":36,"column":133},"end":{"line":36,"column":532}}],"line":36},"4":{"loc":{"start":{"line":36,"column":272},"end":{"line":36,"column":532}},"type":"if","locations":[{"start":{"line":36,"column":272},"end":{"line":36,"column":532}},{"start":{"line":36,"column":272},"end":{"line":36,"column":532}}],"line":36},"5":{"loc":{"start":{"line":61,"column":12},"end":{"line":79,"column":13}},"type":"switch","locations":[{"start":{"line":62,"column":14},"end":{"line":65,"column":83}},{"start":{"line":67,"column":14},"end":{"line":69,"column":162}},{"start":{"line":71,"column":14},"end":{"line":74,"column":155}},{"start":{"line":76,"column":14},"end":{"line":76,"column":22}},{"start":{"line":77,"column":14},"end":{"line":78,"column":39}}],"line":61},"6":{"loc":{"start":{"line":104,"column":12},"end":{"line":137,"column":13}},"type":"switch","locations":[{"start":{"line":105,"column":14},"end":{"line":113,"column":19}},{"start":{"line":115,"column":14},"end":{"line":119,"column":19}},{"start":{"line":121,"column":14},"end":{"line":127,"column":25}},{"start":{"line":129,"column":14},"end":{"line":132,"column":157}},{"start":{"line":134,"column":14},"end":{"line":134,"column":22}},{"start":{"line":135,"column":14},"end":{"line":136,"column":40}}],"line":104},"7":{"loc":{"start":{"line":155,"column":12},"end":{"line":198,"column":13}},"type":"switch","locations":[{"start":{"line":156,"column":14},"end":{"line":160,"column":53}},{"start":{"line":162,"column":14},"end":{"line":171,"column":73}},{"start":{"line":173,"column":14},"end":{"line":179,"column":20}},{"start":{"line":181,"column":14},"end":{"line":185,"column":20}},{"start":{"line":187,"column":14},"end":{"line":193,"column":20}},{"start":{"line":195,"column":14},"end":{"line":195,"column":22}},{"start":{"line":196,"column":14},"end":{"line":197,"column":40}}],"line":155},"8":{"loc":{"start":{"line":165,"column":16},"end":{"line":168,"column":17}},"type":"if","locations":[{"start":{"line":165,"column":16},"end":{"line":168,"column":17}},{"start":{"line":165,"column":16},"end":{"line":168,"column":17}}],"line":165},"9":{"loc":{"start":{"line":224,"column":12},"end":{"line":261,"column":13}},"type":"switch","locations":[{"start":{"line":225,"column":14},"end":{"line":233,"column":19}},{"start":{"line":235,"column":14},"end":{"line":239,"column":19}},{"start":{"line":241,"column":14},"end":{"line":248,"column":82}},{"start":{"line":250,"column":14},"end":{"line":256,"column":82}},{"start":{"line":258,"column":14},"end":{"line":258,"column":22}},{"start":{"line":259,"column":14},"end":{"line":260,"column":40}}],"line":224},"10":{"loc":{"start":{"line":279,"column":12},"end":{"line":298,"column":13}},"type":"switch","locations":[{"start":{"line":280,"column":14},"end":{"line":282,"column":55}},{"start":{"line":284,"column":14},"end":{"line":286,"column":85}},{"start":{"line":288,"column":14},"end":{"line":293,"column":82}},{"start":{"line":295,"column":14},"end":{"line":295,"column":21}},{"start":{"line":296,"column":14},"end":{"line":297,"column":40}}],"line":279}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":1,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":1,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":1,"94":1,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":1,"116":1,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":1,"130":1,"131":1,"132":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":1,"6":0,"7":1,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0,0,0],"6":[0,0,0,0,0,0],"7":[0,0,0,0,0,0,0],"8":[0,0],"9":[0,0,0,0,0,0],"10":[0,0,0,0,0]},"inputSourceMap":{"version":3,"sources":["auth.controller.js"],"names":["AuthController","req","res","InstanceMaintain","createData","User","body","user","ResponseUtil","handleSuccessResponse","CREATED","handleErrorResponse","INTERNAL_SERVER_ERROR","toString","email","findOneAndUpdateData","role","findOneData","userData","_doc","OK","token","TokenUtil","generateToken","id","params","findById","userToEdit","accountHelper","editUserProfile","editedProfile","status","json","message","data","NOT_FOUND","password","BcryptUtil","hashPassword","updatedData","setSuccess","send","setError","deleteMany","users","userSeed"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AAMA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA;AACA;AACA;AACA;IACMA,c;;;;;;;;AACJ;AACF;AACA;AACA;AACA;AACA;;0HAC6BC,G,EAAKC,G;;;;;;;;uBAETC,qBAAiBC,UAAjB,CAA4BC,gBAA5B,EAAkCJ,GAAG,CAACK,IAAtC,C;;;AAAbC,gBAAAA,I;iDACCC,qBAAaC,qBAAb,CACLC,mBADK,EAEL,mCAFK,EAGLH,IAHK,EAILL,GAJK,C;;;;;iDAOAM,qBAAaG,mBAAb,CACLC,iCADK,EAEL,YAAMC,QAAN,EAFK,EAGLX,GAHK,C;;;;;;;;;;;;;;;;AAQX;AACF;AACA;AACA;AACA;AACA;;;;;mHAEqBD,G,EAAKC,G;;;;;;AACdY,gBAAAA,K,GAAUb,GAAG,CAACK,I,CAAdQ,K;;;uBAEAX,qBAAiBY,oBAAjB,CACJV,gBADI,EAEJ;AAAES,kBAAAA,KAAK,EAALA;AAAF,iBAFI,EAGJ;AAAEE,kBAAAA,IAAI,EAAE;AAAR,iBAHI,C;;;;uBAMab,qBAAiBc,WAAjB,CAA6BZ,gBAA7B,EAAmC;AACpDS,kBAAAA,KAAK,EAALA;AADoD,iBAAnC,C;;;AAAbP,gBAAAA,I;AAIAW,gBAAAA,Q,qBAAgBX,IAAI,CAACY,I;kDAEpBX,qBAAaC,qBAAb,CACLW,cADK,EAEL,wBAFK,EAGL;AACEb,kBAAAA,IAAI,EAAEW,QADR;AAEEG,kBAAAA,KAAK,EAAEC,gBAAUC,aAAV,CAAwBL,QAAxB;AAFT,iBAHK,EAOLhB,GAPK,C;;;;;kDAUAM,qBAAaG,mBAAb,CACLC,iCADK,EAEL,aAAMC,QAAN,EAFK,EAGLX,GAHK,C;;;;;;;;;;;;;;;;;;;yHAQcD,G,EAAKC,G;;;;;;;AAElBsB,gBAAAA,E,GAAOvB,GAAG,CAACwB,M,CAAXD,E;;uBACiBnB,iBAAKqB,QAAL,CAAcF,EAAd,C;;;AAAnBG,gBAAAA,U;;qBACFA,U;;;;;;uBAC0BC,oBAAcC,eAAd,CAC1BL,EAD0B,EAE1BvB,GAAG,CAACK,IAFsB,C;;;AAAtBwB,gBAAAA,a;kDAIC5B,GAAG,CAAC6B,MAAJ,CAAWX,cAAX,EAAeY,IAAf,CAAoB;AACzBD,kBAAAA,MAAM,EAAEX,cADiB;AAEzBa,kBAAAA,OAAO,EAAE,mCAFgB;AAGzBC,kBAAAA,IAAI,EAAEJ;AAHmB,iBAApB,C;;;kDAMF5B,GAAG,CACP6B,MADI,CACGI,qBADH,EAEJH,IAFI,CAEC;AAAED,kBAAAA,MAAM,EAAEI,qBAAV;AAAqBF,kBAAAA,OAAO,EAAE;AAA9B,iBAFD,C;;;;;kDAIA/B,GAAG,CAAC6B,MAAJ,CAAWnB,iCAAX,EAAkCoB,IAAlC,CAAuC;AAC5CD,kBAAAA,MAAM,EAAEnB,iCADoC;AAE5CqB,kBAAAA,OAAO,EAAE;AAFmC,iBAAvC,C;;;;;;;;;;;;;;;;AAOX;AACF;AACA;AACA;AACA;AACA;;;;;8HACgChC,G,EAAKC,G;;;;;;;4BACLD,GAAG,CAACK,I,EAAxBQ,K,aAAAA,K,EAAOsB,Q,aAAAA,Q;;;uBAEPjC,qBAAiBY,oBAAjB,CACJV,gBADI,EAEJ;AAAES,kBAAAA,KAAK,EAALA;AAAF,iBAFI,EAGJ;AACEsB,kBAAAA,QAAQ,EAAEC,mBAAWC,YAAX,CAAwBF,QAAxB;AADZ,iBAHI,C;;;;uBAQajC,qBAAiBc,WAAjB,CAA6BZ,gBAA7B,EAAmC;AACpDS,kBAAAA,KAAK,EAALA;AADoD,iBAAnC,C;;;AAAbP,gBAAAA,I;AAIAgC,gBAAAA,W,qBAAmBhC,IAAI,CAACY,I;AAC9B,uBAAOoB,WAAW,CAACH,QAAnB;;AAEA5B,qCAAagC,UAAb,CACEpB,cADF,EAEE,kCAFF,EAGEmB,WAHF;;kDAKO/B,qBAAaiC,IAAb,CAAkBvC,GAAlB,C;;;;;;AAEPM,qCAAakC,QAAb,CAAsB9B,iCAAtB,EAA6C,aAAMC,QAAN,EAA7C;;kDACOL,qBAAaiC,IAAb,CAAkBvC,GAAlB,C;;;;;;;;;;;;;;;;;;;kHAIOD,G,EAAKC,G;;;;;;;uBACfG,iBAAKsC,UAAL,CAAgB,EAAhB,C;;;;uBACiBxC,qBAAiBC,UAAjB,CACrBC,gBADqB,EAErB6B,IAAI,CAACU,KAFgB,C;;;AAAjBC,gBAAAA,Q;;AAINrC,qCAAagC,UAAb,CAAwB,GAAxB,EAA6B,cAA7B,EAA6CK,QAA7C;;kDACOrC,qBAAaiC,IAAb,CAAkBvC,GAAlB,C;;;;;;;;;;;;;;;;;;;;eAIIF,c","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/modules/auth/","sourcesContent":["import {\n  INTERNAL_SERVER_ERROR,\n  CREATED,\n  OK,\n  NOT_FOUND,\n} from 'http-status';\nimport ResponseUtil from '../../utils/response.util';\nimport BcryptUtil from '../../utils/Bcrypt.util';\nimport User from '../../database/model/user.model';\nimport accountHelper from '../account/helpers/account.helper';\nimport InstanceMaintain from '../../database/maintains/instance.maintain';\nimport TokenUtil from '../../utils/jwt.util';\n\n/**\n * This class will contains all function to handle account\n * required to create account for now\n */\nclass AuthController {\n  /**\n   * This function to handle create ccount request.\n   * @param {object} req The http request.\n   * @param {object} res The response.\n   * @returns {object} The status and some data of created account.\n   */\n  static async createAccount(req, res) {\n    try {\n      const user = await InstanceMaintain.createData(User, req.body);\n      return ResponseUtil.handleSuccessResponse(\n        CREATED,\n        'User account created successfully',\n        user,\n        res,\n      );\n    } catch (error) {\n      return ResponseUtil.handleErrorResponse(\n        INTERNAL_SERVER_ERROR,\n        error.toString(),\n        res,\n      );\n    }\n  }\n\n  /**\n   * @description this function is invoked to login\n   * @param {object} req request\n   * @param {object} res response\n   * @return {object} returns an object containing a success message and token\n   */\n\n  static async login(req, res) {\n    const { email } = req.body;\n    try {\n      await InstanceMaintain.findOneAndUpdateData(\n        User,\n        { email },\n        { role: 'client' },\n      );\n\n      const user = await InstanceMaintain.findOneData(User, {\n        email,\n      });\n\n      const userData = { ...user._doc };\n\n      return ResponseUtil.handleSuccessResponse(\n        OK,\n        'Successfully logged in',\n        {\n          user: userData,\n          token: TokenUtil.generateToken(userData),\n        },\n        res,\n      );\n    } catch (error) {\n      return ResponseUtil.handleErrorResponse(\n        INTERNAL_SERVER_ERROR,\n        error.toString(),\n        res,\n      );\n    }\n  }\n\n  static async editAccount(req, res) {\n    try {\n      const { id } = req.params;\n      const userToEdit = await User.findById(id);\n      if (userToEdit) {\n        const editedProfile = await accountHelper.editUserProfile(\n          id,\n          req.body,\n        );\n        return res.status(OK).json({\n          status: OK,\n          message: 'User account updated successfully',\n          data: editedProfile,\n        });\n      }\n      return res\n        .status(NOT_FOUND)\n        .json({ status: NOT_FOUND, message: 'User not found' });\n    } catch (error) {\n      return res.status(INTERNAL_SERVER_ERROR).json({\n        status: INTERNAL_SERVER_ERROR,\n        message: 'Failed to update profile',\n      });\n    }\n  }\n\n  /**\n   * This function is for updating the user password.\n   * @param {object} req The http request.\n   * @param {object} res The response.\n   * @returns {object} The status and some data of created account.\n   */\n  static async updatingPassword(req, res) {\n    const { email, password } = req.body;\n    try {\n      await InstanceMaintain.findOneAndUpdateData(\n        User,\n        { email },\n        {\n          password: BcryptUtil.hashPassword(password),\n        },\n      );\n\n      const user = await InstanceMaintain.findOneData(User, {\n        email,\n      });\n\n      const updatedData = { ...user._doc };\n      delete updatedData.password;\n\n      ResponseUtil.setSuccess(\n        OK,\n        'Successful updated your password',\n        updatedData,\n      );\n      return ResponseUtil.send(res);\n    } catch (error) {\n      ResponseUtil.setError(INTERNAL_SERVER_ERROR, error.toString());\n      return ResponseUtil.send(res);\n    }\n  }\n\n  static async seed(req, res) {\n    await User.deleteMany({});\n    const userSeed = await InstanceMaintain.createData(\n      User,\n      data.users,\n    );\n    ResponseUtil.setSuccess(201, 'Users seeded', userSeed);\n    return ResponseUtil.send(res);\n  }\n}\n\nexport default AuthController;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"30d1e0074c46db0a6f5ab81a825ee1306c92317b","contentHash":"d5fc20078cc939e38c9db83439930390321977799cc2e20a3d6e2f1bbba644c7"},"/Users/mupenzi/Desktop/minority-backend/src/utils/Bcrypt.util.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/utils/Bcrypt.util.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":23},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":89}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":55}},"6":{"start":{"line":20,"column":30},"end":{"line":50,"column":3}},"7":{"start":{"line":22,"column":4},"end":{"line":22,"column":55}},"8":{"start":{"line":25,"column":2},"end":{"line":48,"column":6}},"9":{"start":{"line":34,"column":6},"end":{"line":34,"column":84}},"10":{"start":{"line":46,"column":6},"end":{"line":46,"column":73}},"11":{"start":{"line":49,"column":2},"end":{"line":49,"column":20}},"12":{"start":{"line":52,"column":15},"end":{"line":52,"column":25}},"13":{"start":{"line":53,"column":0},"end":{"line":53,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":20,"column":30},"end":{"line":20,"column":31}},"loc":{"start":{"line":20,"column":42},"end":{"line":50,"column":1}},"line":20},"1":{"name":"BcryptUtil","decl":{"start":{"line":21,"column":11},"end":{"line":21,"column":21}},"loc":{"start":{"line":21,"column":24},"end":{"line":23,"column":3}},"line":21},"2":{"name":"hashPassword","decl":{"start":{"line":33,"column":20},"end":{"line":33,"column":32}},"loc":{"start":{"line":33,"column":43},"end":{"line":35,"column":5}},"line":33},"3":{"name":"comparePassword","decl":{"start":{"line":45,"column":20},"end":{"line":45,"column":35}},"loc":{"start":{"line":45,"column":65},"end":{"line":47,"column":5}},"line":45}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":0,"10":0,"11":1,"12":1,"13":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{},"inputSourceMap":{"version":3,"sources":["Bcrypt.util.js"],"names":["BcryptUtil","password","bcrypt","hashSync","Number","process","env","SALT_ROUNDS","plainPassword","hashPassword","compareSync"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA;AACA;AACA;AACA;IACMA,U;;;;;;;;AACJ;AACF;AACA;AACA;AACA;iCACsBC,Q,EAAU;AAC5B,aAAOC,mBAAOC,QAAP,CAAgBF,QAAhB,EAA0BG,MAAM,CAACC,OAAO,CAACC,GAAR,CAAYC,WAAb,CAAhC,CAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;;;oCACyBC,a,EAAeC,Y,EAAc;AAClD,aAAOP,mBAAOQ,WAAP,CAAmBF,aAAnB,EAAkCC,YAAlC,CAAP;AACD;;;;;eAGYT,U","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/utils/","sourcesContent":["import bcrypt from 'bcrypt';\n\n/**\n * Bcrypt util class\n * Hash Password or compare password\n */\nclass BcryptUtil {\n  /**\n   * * Generated password\n   * @param  {string} password string\n   * @returns {string} string\n   */\n  static hashPassword(password) {\n    return bcrypt.hashSync(password, Number(process.env.SALT_ROUNDS));\n  }\n\n  /**\n   * * Compare passwords\n   * @param  {string} plainPassword string\n   * @param  {string} hashPassword string\n   * @returns {boolean} boolean\n   */\n  static comparePassword(plainPassword, hashPassword) {\n    return bcrypt.compareSync(plainPassword, hashPassword);\n  }\n}\n\nexport default BcryptUtil;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4ebf16389825eb1b797e8909d5fae9cbccf358ec","contentHash":"2c30cc044557296a611871491416a6b1d441a7fa5bf23ff88a2e2710f72ed20c"},"/Users/mupenzi/Desktop/minority-backend/src/database/model/user.model.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/database/model/user.model.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":16},"end":{"line":10,"column":59}},"4":{"start":{"line":15,"column":17},"end":{"line":37,"column":2}},"5":{"start":{"line":39,"column":15},"end":{"line":39,"column":61}},"6":{"start":{"line":41,"column":0},"end":{"line":41,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["user.model.js"],"names":["userSchema","mongoose","Schema","fullName","type","String","email","unique","phoneNumber","password","timestamps","writeConcern","w","j","wtimeout","model"],"mappings":";;;;;;;;;AAAA;;AAEA;AACA;AACA;AACA,IAAMA,UAAU,GAAG,IAAIC,qBAASC,MAAb,CACjB;AACEC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAEC;AADE,GADZ;AAIEC,EAAAA,KAAK,EAAE;AACLF,IAAAA,IAAI,EAAEC,MADD;AAELE,IAAAA,MAAM,EAAE;AAFH,GAJT;AAQEC,EAAAA,WAAW,EAAE;AACXJ,IAAAA,IAAI,EAAEC;AADK,GARf;AAWEI,EAAAA,QAAQ,EAAE;AACRL,IAAAA,IAAI,EAAEC,MADE;AAER,eAAS;AAFD;AAXZ,CADiB,EAiBjB;AACEK,EAAAA,UAAU,EAAE,IADd;AAEEC,EAAAA,YAAY,EAAE;AACZC,IAAAA,CAAC,EAAE,UADS;AAEZC,IAAAA,CAAC,EAAE,IAFS;AAGZC,IAAAA,QAAQ,EAAE;AAHE;AAFhB,CAjBiB,CAAnB;;eA2Beb,qBAASc,KAAT,CAAe,MAAf,EAAuBf,UAAvB,C","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/database/model/","sourcesContent":["import mongoose from 'mongoose';\n\n/**\n * User Schema\n */\nconst userSchema = new mongoose.Schema(\n  {\n    fullName: {\n      type: String,\n    },\n    email: {\n      type: String,\n      unique: true,\n    },\n    phoneNumber: {\n      type: String,\n    },\n    password: {\n      type: String,\n      default: '',\n    },\n  },\n  {\n    timestamps: true,\n    writeConcern: {\n      w: 'majority',\n      j: true,\n      wtimeout: 1000,\n    },\n  },\n);\n\nexport default mongoose.model('User', userSchema);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"217b456d8b26d2759b37fb8cceefc9368aafbb46","contentHash":"3b413075b40ca675cd7eb4c2c1480f2348660f3d62287b582e5175a4d8f54577"},"/Users/mupenzi/Desktop/minority-backend/src/modules/account/helpers/account.helper.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/modules/account/helpers/account.helper.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":23},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":25},"end":{"line":14,"column":99}},"6":{"start":{"line":16,"column":23},"end":{"line":16,"column":95}},"7":{"start":{"line":18,"column":20},"end":{"line":18,"column":89}},"8":{"start":{"line":20,"column":12},"end":{"line":20,"column":81}},"9":{"start":{"line":26,"column":34},"end":{"line":147,"column":3}},"10":{"start":{"line":28,"column":4},"end":{"line":28,"column":59}},"11":{"start":{"line":31,"column":2},"end":{"line":145,"column":6}},"12":{"start":{"line":41,"column":23},"end":{"line":60,"column":9}},"13":{"start":{"line":43,"column":8},"end":{"line":59,"column":20}},"14":{"start":{"line":44,"column":10},"end":{"line":58,"column":11}},"15":{"start":{"line":45,"column":12},"end":{"line":57,"column":13}},"16":{"start":{"line":47,"column":16},"end":{"line":47,"column":34}},"17":{"start":{"line":48,"column":16},"end":{"line":48,"column":104}},"18":{"start":{"line":51,"column":16},"end":{"line":51,"column":37}},"19":{"start":{"line":52,"column":16},"end":{"line":52,"column":55}},"20":{"start":{"line":56,"column":16},"end":{"line":56,"column":39}},"21":{"start":{"line":63,"column":8},"end":{"line":63,"column":49}},"22":{"start":{"line":66,"column":6},"end":{"line":66,"column":23}},"23":{"start":{"line":77,"column":22},"end":{"line":100,"column":9}},"24":{"start":{"line":79,"column":8},"end":{"line":99,"column":21}},"25":{"start":{"line":80,"column":10},"end":{"line":98,"column":11}},"26":{"start":{"line":81,"column":12},"end":{"line":97,"column":13}},"27":{"start":{"line":83,"column":16},"end":{"line":83,"column":35}},"28":{"start":{"line":84,"column":16},"end":{"line":88,"column":19}},"29":{"start":{"line":91,"column":16},"end":{"line":91,"column":43}},"30":{"start":{"line":92,"column":16},"end":{"line":92,"column":61}},"31":{"start":{"line":96,"column":16},"end":{"line":96,"column":40}},"32":{"start":{"line":103,"column":8},"end":{"line":103,"column":48}},"33":{"start":{"line":106,"column":6},"end":{"line":106,"column":22}},"34":{"start":{"line":111,"column":29},"end":{"line":137,"column":9}},"35":{"start":{"line":113,"column":8},"end":{"line":136,"column":21}},"36":{"start":{"line":114,"column":10},"end":{"line":135,"column":11}},"37":{"start":{"line":115,"column":12},"end":{"line":134,"column":13}},"38":{"start":{"line":117,"column":16},"end":{"line":117,"column":35}},"39":{"start":{"line":118,"column":16},"end":{"line":125,"column":19}},"40":{"start":{"line":128,"column":16},"end":{"line":128,"column":51}},"41":{"start":{"line":129,"column":16},"end":{"line":129,"column":69}},"42":{"start":{"line":133,"column":16},"end":{"line":133,"column":40}},"43":{"start":{"line":140,"column":8},"end":{"line":140,"column":55}},"44":{"start":{"line":143,"column":6},"end":{"line":143,"column":29}},"45":{"start":{"line":146,"column":2},"end":{"line":146,"column":24}},"46":{"start":{"line":149,"column":15},"end":{"line":149,"column":29}},"47":{"start":{"line":150,"column":0},"end":{"line":150,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":26,"column":34},"end":{"line":26,"column":35}},"loc":{"start":{"line":26,"column":46},"end":{"line":147,"column":1}},"line":26},"1":{"name":"AccountHelpers","decl":{"start":{"line":27,"column":11},"end":{"line":27,"column":25}},"loc":{"start":{"line":27,"column":28},"end":{"line":29,"column":3}},"line":27},"2":{"name":"(anonymous_2)","decl":{"start":{"line":40,"column":11},"end":{"line":40,"column":12}},"loc":{"start":{"line":40,"column":23},"end":{"line":67,"column":5}},"line":40},"3":{"name":"_callee","decl":{"start":{"line":41,"column":110},"end":{"line":41,"column":117}},"loc":{"start":{"line":41,"column":136},"end":{"line":60,"column":7}},"line":41},"4":{"name":"_callee$","decl":{"start":{"line":43,"column":53},"end":{"line":43,"column":61}},"loc":{"start":{"line":43,"column":72},"end":{"line":59,"column":9}},"line":43},"5":{"name":"userExist","decl":{"start":{"line":62,"column":15},"end":{"line":62,"column":24}},"loc":{"start":{"line":62,"column":34},"end":{"line":64,"column":7}},"line":62},"6":{"name":"(anonymous_6)","decl":{"start":{"line":76,"column":11},"end":{"line":76,"column":12}},"loc":{"start":{"line":76,"column":23},"end":{"line":107,"column":5}},"line":76},"7":{"name":"_callee2","decl":{"start":{"line":77,"column":109},"end":{"line":77,"column":117}},"loc":{"start":{"line":77,"column":124},"end":{"line":100,"column":7}},"line":77},"8":{"name":"_callee2$","decl":{"start":{"line":79,"column":53},"end":{"line":79,"column":62}},"loc":{"start":{"line":79,"column":74},"end":{"line":99,"column":9}},"line":79},"9":{"name":"saveUser","decl":{"start":{"line":102,"column":15},"end":{"line":102,"column":23}},"loc":{"start":{"line":102,"column":29},"end":{"line":104,"column":7}},"line":102},"10":{"name":"(anonymous_10)","decl":{"start":{"line":110,"column":11},"end":{"line":110,"column":12}},"loc":{"start":{"line":110,"column":23},"end":{"line":144,"column":5}},"line":110},"11":{"name":"_callee3","decl":{"start":{"line":111,"column":116},"end":{"line":111,"column":124}},"loc":{"start":{"line":111,"column":135},"end":{"line":137,"column":7}},"line":111},"12":{"name":"_callee3$","decl":{"start":{"line":113,"column":53},"end":{"line":113,"column":62}},"loc":{"start":{"line":113,"column":74},"end":{"line":136,"column":9}},"line":113},"13":{"name":"editUserProfile","decl":{"start":{"line":139,"column":15},"end":{"line":139,"column":30}},"loc":{"start":{"line":139,"column":41},"end":{"line":141,"column":7}},"line":139}},"branchMap":{"0":{"loc":{"start":{"line":45,"column":12},"end":{"line":57,"column":13}},"type":"switch","locations":[{"start":{"line":46,"column":14},"end":{"line":48,"column":104}},{"start":{"line":50,"column":14},"end":{"line":52,"column":55}},{"start":{"line":54,"column":14},"end":{"line":54,"column":21}},{"start":{"line":55,"column":14},"end":{"line":56,"column":39}}],"line":45},"1":{"loc":{"start":{"line":81,"column":12},"end":{"line":97,"column":13}},"type":"switch","locations":[{"start":{"line":82,"column":14},"end":{"line":88,"column":19}},{"start":{"line":90,"column":14},"end":{"line":92,"column":61}},{"start":{"line":94,"column":14},"end":{"line":94,"column":21}},{"start":{"line":95,"column":14},"end":{"line":96,"column":40}}],"line":81},"2":{"loc":{"start":{"line":115,"column":12},"end":{"line":134,"column":13}},"type":"switch","locations":[{"start":{"line":116,"column":14},"end":{"line":125,"column":19}},{"start":{"line":127,"column":14},"end":{"line":129,"column":69}},{"start":{"line":131,"column":14},"end":{"line":131,"column":21}},{"start":{"line":132,"column":14},"end":{"line":133,"column":40}}],"line":115}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":1,"46":1,"47":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0},"b":{"0":[0,0,0,0],"1":[0,0,0,0],"2":[0,0,0,0]},"inputSourceMap":{"version":3,"sources":["account.helper.js"],"names":["AccountHelpers","attribute","value","UserSchema","findOne","user","create","fullName","email","phoneNumber","savedUser","id","data","findByIdAndUpdate","$set","fullname","phone","password","editedUserProfile"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AAEA;AACA;AACA;AACA;IACMA,c;;;;;;;;AACJ;AACF;AACA;AACA;AACA;AACA;;sHACyBC,S,EAAWC,K;;;;;;;uBACbC,iBAAWC,OAAX,sCAAsBH,SAAtB,EAAkCC,KAAlC,E;;;AAAbG,gBAAAA,I;iDACCA,I;;;;;;;;;;;;;;;;AAGT;AACF;AACA;AACA;AACA;;;;;sHACwBA,I;;;;;;;uBACIF,iBAAWG,MAAX,CAAkB;AACxCC,kBAAAA,QAAQ,EAAEF,IAAI,CAACE,QADyB;AAExCC,kBAAAA,KAAK,EAAEH,IAAI,CAACG,KAF4B;AAGxCC,kBAAAA,WAAW,EAAEJ,IAAI,CAACI;AAHsB,iBAAlB,C;;;AAAlBC,gBAAAA,S;kDAKCA,S;;;;;;;;;;;;;;;;;;;6HAGoBC,E,EAAIC,I;;;;;;;uBACCT,iBAAWU,iBAAX,CAA6BF,EAA7B,EAAiC;AAC/DG,kBAAAA,IAAI,EAAE;AACJC,oBAAAA,QAAQ,EAAEH,IAAI,CAACG,QADX;AAEJP,oBAAAA,KAAK,EAAEI,IAAI,CAACJ,KAFR;AAGJQ,oBAAAA,KAAK,EAAEJ,IAAI,CAACI,KAHR;AAIJC,oBAAAA,QAAQ,EAAEL,IAAI,CAACK;AAJX;AADyD,iBAAjC,C;;;AAA1BC,gBAAAA,iB;kDAQCA,iB;;;;;;;;;;;;;;;;;;;;eAIIlB,c","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/modules/account/helpers/","sourcesContent":["import UserSchema from '../../../database/model/user.model';\n\n/**\n * This class will contains all helpers function to handle account with DB\n * required to save account for now\n */\nclass AccountHelpers {\n  /**\n   * Find a user in users table in database if exist  by given attribute and attribute value eg: email : youremail@gmail.com.\n   * @param {string} attribute users table field.\n   * @param {string} value value to be found.\n   * @returns {object} founded user's data.\n   */\n  static async userExist(attribute, value) {\n    const user = await UserSchema.findOne({ [attribute]: value });\n    return user;\n  }\n\n  /**\n   * Saves user account in the DB.\n   * @param {object} user The request sent by a user.\n   * @returns {object} account's data.\n   */\n  static async saveUser(user) {\n    const savedUser = await UserSchema.create({\n      fullName: user.fullName,\n      email: user.email,\n      phoneNumber: user.phoneNumber,\n    });\n    return savedUser;\n  }\n\n  static async editUserProfile(id, data) {\n    const editedUserProfile = await UserSchema.findByIdAndUpdate(id, {\n      $set: {\n        fullname: data.fullname,\n        email: data.email,\n        phone: data.phone,\n        password: data.password,\n      },\n    });\n    return editedUserProfile;\n  }\n}\n\nexport default AccountHelpers;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8319a21bc9348b24cfe57ec23a39780e11cb6b3f","contentHash":"c0b75086f734dce78bd2c87657765201bfcfd1858a55b22753dd740564c8c00c"},"/Users/mupenzi/Desktop/minority-backend/src/database/maintains/instance.maintain.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/database/maintains/instance.maintain.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":23},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":89}},"5":{"start":{"line":17,"column":36},"end":{"line":61,"column":3}},"6":{"start":{"line":19,"column":4},"end":{"line":19,"column":61}},"7":{"start":{"line":22,"column":2},"end":{"line":59,"column":6}},"8":{"start":{"line":32,"column":6},"end":{"line":32,"column":32}},"9":{"start":{"line":44,"column":6},"end":{"line":44,"column":33}},"10":{"start":{"line":57,"column":6},"end":{"line":57,"column":52}},"11":{"start":{"line":60,"column":2},"end":{"line":60,"column":26}},"12":{"start":{"line":63,"column":15},"end":{"line":63,"column":31}},"13":{"start":{"line":64,"column":0},"end":{"line":64,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":17,"column":36},"end":{"line":17,"column":37}},"loc":{"start":{"line":17,"column":48},"end":{"line":61,"column":1}},"line":17},"1":{"name":"InstanceMaintain","decl":{"start":{"line":18,"column":11},"end":{"line":18,"column":27}},"loc":{"start":{"line":18,"column":30},"end":{"line":20,"column":3}},"line":18},"2":{"name":"createData","decl":{"start":{"line":31,"column":20},"end":{"line":31,"column":30}},"loc":{"start":{"line":31,"column":44},"end":{"line":33,"column":5}},"line":31},"3":{"name":"findOneData","decl":{"start":{"line":43,"column":20},"end":{"line":43,"column":31}},"loc":{"start":{"line":43,"column":45},"end":{"line":45,"column":5}},"line":43},"4":{"name":"findOneAndUpdateData","decl":{"start":{"line":56,"column":20},"end":{"line":56,"column":40}},"loc":{"start":{"line":56,"column":64},"end":{"line":58,"column":5}},"line":56}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":0,"9":0,"10":0,"11":1,"12":1,"13":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{},"inputSourceMap":{"version":3,"sources":["instance.maintain.js"],"names":["InstanceMaintain","model","data","create","findOne","property","findOneAndUpdate"],"mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;IACMA,gB;;;;;;;;AACJ;AACF;AACA;AACA;AACA;AACA;+BACoBC,K,EAAOC,I,EAAM;AAC7B,aAAOD,KAAK,CAACE,MAAN,CAAaD,IAAb,CAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;;;gCACqBD,K,EAAOC,I,EAAM;AAC9B,aAAOD,KAAK,CAACG,OAAN,CAAcF,IAAd,CAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;;;;yCAC8BD,K,EAAOI,Q,EAAUH,I,EAAM;AACjD,aAAOD,KAAK,CAACK,gBAAN,CAAuBD,QAAvB,EAAiCH,IAAjC,CAAP;AACD;;;;;eAGYF,gB","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/database/maintains/","sourcesContent":["/**\n * All models should be maintained within this class\n */\nclass InstanceMaintain {\n  /**\n   * * Create data\n   * @param  {object} model model\n   * @param  {object} data data\n   * @returns {object} object\n   */\n  static createData(model, data) {\n    return model.create(data);\n  }\n\n  /**\n   * * Find one data\n   * @param  {object} model model\n   * @param  {object} data data\n   * @returns {object} object\n   */\n  static findOneData(model, data) {\n    return model.findOne(data);\n  }\n\n  /**\n   * * Find and update one data\n   * @param  {object} model model\n   * @param  {object} property property\n   * @param  {object} data data\n   * @returns {object} object\n   */\n  static findOneAndUpdateData(model, property, data) {\n    return model.findOneAndUpdate(property, data);\n  }\n}\n\nexport default InstanceMaintain;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"41284691e25bcf1301174cb7f978d34901fb45a1","contentHash":"f80146abb0cb1c9732202b567f6869d5f76fc71a4549812fef7541489e0aed2a"},"/Users/mupenzi/Desktop/minority-backend/src/utils/jwt.util.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/utils/jwt.util.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":23},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":89}},"5":{"start":{"line":14,"column":20},"end":{"line":14,"column":67}},"6":{"start":{"line":20,"column":29},"end":{"line":55,"column":3}},"7":{"start":{"line":22,"column":4},"end":{"line":22,"column":54}},"8":{"start":{"line":25,"column":2},"end":{"line":53,"column":6}},"9":{"start":{"line":33,"column":6},"end":{"line":35,"column":9}},"10":{"start":{"line":45,"column":6},"end":{"line":51,"column":9}},"11":{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},"12":{"start":{"line":47,"column":10},"end":{"line":47,"column":21}},"13":{"start":{"line":50,"column":8},"end":{"line":50,"column":23}},"14":{"start":{"line":54,"column":2},"end":{"line":54,"column":19}},"15":{"start":{"line":57,"column":15},"end":{"line":57,"column":24}},"16":{"start":{"line":58,"column":0},"end":{"line":58,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":20,"column":29},"end":{"line":20,"column":30}},"loc":{"start":{"line":20,"column":41},"end":{"line":55,"column":1}},"line":20},"1":{"name":"TokenUtil","decl":{"start":{"line":21,"column":11},"end":{"line":21,"column":20}},"loc":{"start":{"line":21,"column":23},"end":{"line":23,"column":3}},"line":21},"2":{"name":"generateToken","decl":{"start":{"line":32,"column":20},"end":{"line":32,"column":33}},"loc":{"start":{"line":32,"column":40},"end":{"line":36,"column":5}},"line":32},"3":{"name":"verifyToken","decl":{"start":{"line":44,"column":20},"end":{"line":44,"column":31}},"loc":{"start":{"line":44,"column":39},"end":{"line":52,"column":5}},"line":44},"4":{"name":"(anonymous_4)","decl":{"start":{"line":45,"column":76},"end":{"line":45,"column":77}},"loc":{"start":{"line":45,"column":100},"end":{"line":51,"column":7}},"line":45}},"branchMap":{"0":{"loc":{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},{"start":{"line":46,"column":8},"end":{"line":48,"column":9}}],"line":46}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":1,"16":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"sources":["jwt.util.js"],"names":["TokenUtil","data","jwt","sign","process","env","JWT_SECRET","expiresIn","EXPIRE_TIME","token","verify","err","decoded"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA;AACA;AACA;AACA;IACMA,S;;;;;;;;AACJ;AACF;AACA;AACA;kCACuBC,I,EAAM;AACzB,aAAOC,yBAAIC,IAAJ,CAASF,IAAT,EAAeG,OAAO,CAACC,GAAR,CAAYC,UAA3B,EAAuC;AAC5CC,QAAAA,SAAS,EAAEH,OAAO,CAACC,GAAR,CAAYG;AADqB,OAAvC,CAAP;AAGD;AAED;AACF;AACA;AACA;;;;gCACqBC,K,EAAO;AACxB,aAAOP,yBAAIQ,MAAJ,CACLD,KADK,EAELL,OAAO,CAACC,GAAR,CAAYC,UAFP,EAGL,UAACK,GAAD,EAAMC,OAAN,EAAkB;AAChB,YAAID,GAAJ,EAAS;AACP,iBAAOA,GAAP;AACD;;AACD,eAAOC,OAAP;AACD,OARI,CAAP;AAUD;;;;;eAGYZ,S","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/utils/","sourcesContent":["import jwt from 'jsonwebtoken';\n\n/**\n * Token util class\n * Generate a token or compare the token\n */\nclass TokenUtil {\n  /**\n   * @param {string} data\n   * @returns {string} function to generate a token string\n   */\n  static generateToken(data) {\n    return jwt.sign(data, process.env.JWT_SECRET, {\n      expiresIn: process.env.EXPIRE_TIME,\n    });\n  }\n\n  /**\n   * @param  {string} token\n   * @returns {object} function to verify a token\n   */\n  static verifyToken(token) {\n    return jwt.verify(\n      token,\n      process.env.JWT_SECRET,\n      (err, decoded) => {\n        if (err) {\n          return err;\n        }\n        return decoded;\n      },\n    );\n  }\n}\n\nexport default TokenUtil;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ea7c06147b9e0a2ea081b0cd11f92c9867a9948a","contentHash":"6030019c94dc2fb6968d6954705bd1f208568dbb793ac51f7dd58244aaf7bf2d"},"/Users/mupenzi/Desktop/minority-backend/src/modules/auth/auth.validation.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/modules/auth/auth.validation.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":95}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":85}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":53}},"5":{"start":{"line":21,"column":23},"end":{"line":23,"column":1}},"6":{"start":{"line":22,"column":2},"end":{"line":22,"column":81}},"7":{"start":{"line":33,"column":0},"end":{"line":33,"column":44}},"8":{"start":{"line":35,"column":24},"end":{"line":37,"column":1}},"9":{"start":{"line":36,"column":2},"end":{"line":36,"column":79}},"10":{"start":{"line":47,"column":0},"end":{"line":47,"column":46}},"11":{"start":{"line":49,"column":29},"end":{"line":51,"column":1}},"12":{"start":{"line":50,"column":2},"end":{"line":50,"column":82}},"13":{"start":{"line":53,"column":0},"end":{"line":53,"column":56}}},"fnMap":{"0":{"name":"validateUserBody","decl":{"start":{"line":21,"column":32},"end":{"line":21,"column":48}},"loc":{"start":{"line":21,"column":65},"end":{"line":23,"column":1}},"line":21},"1":{"name":"validateLoginBody","decl":{"start":{"line":35,"column":33},"end":{"line":35,"column":50}},"loc":{"start":{"line":35,"column":67},"end":{"line":37,"column":1}},"line":35},"2":{"name":"validateSecurePassword","decl":{"start":{"line":49,"column":38},"end":{"line":49,"column":60}},"loc":{"start":{"line":49,"column":77},"end":{"line":51,"column":1}},"line":49}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":1,"9":0,"10":1,"11":1,"12":0,"13":1},"f":{"0":0,"1":0,"2":0},"b":{},"inputSourceMap":{"version":3,"sources":["auth.validation.js"],"names":["validateUserBody","req","res","next","accountSchema","body","validateLoginBody","loginSchema","validateSecurePassword","passwordSchema"],"mappings":";;;;;;;;;AAAA;;AACA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClD,SAAO,8BAAiBC,mBAAjB,EAAgCH,GAAG,CAACI,IAApC,EAA0CH,GAA1C,EAA+CC,IAA/C,CAAP;AACD,CAFM;AAIP;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACO,IAAMG,iBAAiB,GAAG,SAApBA,iBAAoB,CAACL,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACnD,SAAO,8BAAiBI,iBAAjB,EAA8BN,GAAG,CAACI,IAAlC,EAAwCH,GAAxC,EAA6CC,IAA7C,CAAP;AACD,CAFM;AAIP;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACO,IAAMK,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACP,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxD,SAAO,8BAAiBM,oBAAjB,EAAiCR,GAAG,CAACI,IAArC,EAA2CH,GAA3C,EAAgDC,IAAhD,CAAP;AACD,CAFM","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/modules/auth/","sourcesContent":["import handleErrorsUtil from '../../utils/handle-errors.util';\nimport {\n  accountSchema,\n  loginSchema,\n  passwordSchema,\n} from '../../utils/schema/user.schema';\n\n/**\n * *Handle create account validation.\n * @param {object} req request\n * @param {object} res response\n * @param {object} next function\n * @returns {object} Object\n */\nexport const validateUserBody = (req, res, next) => {\n  return handleErrorsUtil(accountSchema, req.body, res, next);\n};\n\n/**\n * *Handle login validation.\n * @param {object} req request\n * @param {object} res response\n * @param {object} next function\n * @returns {object} Object\n */\nexport const validateLoginBody = (req, res, next) => {\n  return handleErrorsUtil(loginSchema, req.body, res, next);\n};\n\n/**\n * * Handle secure password validation.\n * @param {object} req request\n * @param {object} res response\n * @param {object} next function\n * @returns {object} Object\n */\nexport const validateSecurePassword = (req, res, next) => {\n  return handleErrorsUtil(passwordSchema, req.body, res, next);\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d1a47316ac3f06c2be39a9933bf2358899587205","contentHash":"f79d0d20e03a3b1da2ea04b3f01d7eb7024049db971d83414ce129d07a1984b7"},"/Users/mupenzi/Desktop/minority-backend/src/utils/handle-errors.util.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/utils/handle-errors.util.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":18},"end":{"line":10,"column":40}},"4":{"start":{"line":12,"column":16},"end":{"line":12,"column":66}},"5":{"start":{"line":21,"column":23},"end":{"line":33,"column":1}},"6":{"start":{"line":22,"column":25},"end":{"line":22,"column":46}},"7":{"start":{"line":23,"column":14},"end":{"line":23,"column":36}},"8":{"start":{"line":25,"column":2},"end":{"line":30,"column":3}},"9":{"start":{"line":26,"column":17},"end":{"line":28,"column":6}},"10":{"start":{"line":27,"column":6},"end":{"line":27,"column":25}},"11":{"start":{"line":29,"column":4},"end":{"line":29,"column":90}},"12":{"start":{"line":32,"column":2},"end":{"line":32,"column":9}},"13":{"start":{"line":35,"column":15},"end":{"line":35,"column":31}},"14":{"start":{"line":36,"column":0},"end":{"line":36,"column":30}}},"fnMap":{"0":{"name":"handleErrorsUtil","decl":{"start":{"line":21,"column":32},"end":{"line":21,"column":48}},"loc":{"start":{"line":21,"column":74},"end":{"line":33,"column":1}},"line":21},"1":{"name":"(anonymous_1)","decl":{"start":{"line":26,"column":35},"end":{"line":26,"column":36}},"loc":{"start":{"line":26,"column":50},"end":{"line":28,"column":5}},"line":26}},"branchMap":{"0":{"loc":{"start":{"line":25,"column":2},"end":{"line":30,"column":3}},"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":30,"column":3}},{"start":{"line":25,"column":2},"end":{"line":30,"column":3}}],"line":25}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":1},"f":{"0":0,"1":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"sources":["handle-errors.util.js"],"names":["handleErrorsUtil","schema","body","res","next","validate","error","errors","details","map","err","message","ResponseUtil","handleErrorResponse","BAD_REQUEST"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,MAAD,EAASC,IAAT,EAAeC,GAAf,EAAoBC,IAApB,EAA6B;AAAA,yBAClCH,MAAM,CAACI,QAAP,CAAgBH,IAAhB,CADkC;AAAA,MAC5CI,KAD4C,oBAC5CA,KAD4C;;AAGpD,MAAIA,KAAJ,EAAW;AACT,QAAMC,MAAM,GAAGD,KAAK,CAACE,OAAN,CAAcC,GAAd,CAAkB,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,OAAb;AAAA,KAAlB,CAAf;AACA,WAAOC,qBAAaC,mBAAb,CAAiCC,uBAAjC,EAA8CP,MAA9C,EAAsDJ,GAAtD,CAAP;AACD;;AACDC,EAAAA,IAAI;AACL,CARD;;eAUeJ,gB","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/utils/","sourcesContent":["import { BAD_REQUEST } from 'http-status';\nimport ResponseUtil from './response.util';\n\n/**\n * Function to handle errors\n * @param  {object} schema validation schema\n * @param  {object} body body of the validation\n * @param  {object} res response\n * @param  {object} next function\n */\nconst handleErrorsUtil = (schema, body, res, next) => {\n  const { error } = schema.validate(body);\n\n  if (error) {\n    const errors = error.details.map((err) => err.message);\n    return ResponseUtil.handleErrorResponse(BAD_REQUEST, errors, res);\n  }\n  next();\n};\n\nexport default handleErrorsUtil;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"31e326759c66b1f5badb13c81a050abf3f6f23e0","contentHash":"773e2900fa8e7fe44192ad95e25659891b81934e7def1107de81741880544d1c"},"/Users/mupenzi/Desktop/minority-backend/src/utils/schema/user.schema.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/utils/schema/user.schema.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":78}},"3":{"start":{"line":10,"column":11},"end":{"line":10,"column":49}},"4":{"start":{"line":12,"column":22},"end":{"line":12,"column":73}},"5":{"start":{"line":14,"column":16},"end":{"line":14,"column":66}},"6":{"start":{"line":17,"column":20},"end":{"line":38,"column":2}},"7":{"start":{"line":41,"column":0},"end":{"line":41,"column":38}},"8":{"start":{"line":43,"column":18},"end":{"line":55,"column":2}},"9":{"start":{"line":58,"column":0},"end":{"line":58,"column":34}},"10":{"start":{"line":60,"column":21},"end":{"line":73,"column":2}},"11":{"start":{"line":75,"column":0},"end":{"line":75,"column":40}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["user.schema.js"],"names":["customJoi","Joi","extend","joiPhone","accountSchema","object","fullName","string","trim","min","required","messages","email","phoneNumber","format","strict","options","abortEarly","loginSchema","password","passwordSchema","regex"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,SAAS,GAAGC,gBAAIC,MAAJ,CAAWC,0BAAX,CAAlB,C,CAEA;;;AACO,IAAMC,aAAa,GAAGH,gBAAII,MAAJ,CAAW;AACtCC,EAAAA,QAAQ,EAAEL,gBAAIM,MAAJ,GAAaC,IAAb,GAAoBC,GAApB,CAAwB,CAAxB,EAA2BC,QAA3B,GAAsCC,QAAtC,CAA+C;AACvD,oBAAgB,uBADuC;AAEvD,oBAAgB,sCAFuC;AAGvD,kBACE;AAJqD,GAA/C,CAD4B;AAOtCC,EAAAA,KAAK,EAAEX,gBAAIM,MAAJ,GAAaK,KAAb,GAAqBF,QAArB,GAAgCC,QAAhC,CAAyC;AAC9C,oBAAgB,mBAD8B;AAE9C,oBAAgB,kCAF8B;AAG9C,oBAAgB;AAH8B,GAAzC,CAP+B;AAYtCE,EAAAA,WAAW,EAAEb,SAAS,CACnBO,MADU,GAEVM,WAFU,CAEE;AAAEC,IAAAA,MAAM,EAAE,eAAV;AAA2BC,IAAAA,MAAM,EAAE;AAAnC,GAFF,EAGVL,QAHU,GAIVC,QAJU,CAID;AACR,oBAAgB,0BADR;AAER,oBAAgB,yCAFR;AAGR,2BACE;AAJM,GAJC;AAZyB,CAAX,EAsB1BK,OAtB0B,CAsBlB;AAAEC,EAAAA,UAAU,EAAE;AAAd,CAtBkB,CAAtB,C,CAwBP;;;;;AACO,IAAMC,WAAW,GAAGjB,gBAAII,MAAJ,CAAW;AACpCO,EAAAA,KAAK,EAAEX,gBAAIM,MAAJ,GAAaK,KAAb,GAAqBF,QAArB,GAAgCC,QAAhC,CAAyC;AAC9C,oBAAgB,mBAD8B;AAE9C,oBAAgB,kCAF8B;AAG9C,oBAAgB;AAH8B,GAAzC,CAD6B;AAMpCQ,EAAAA,QAAQ,EAAElB,gBAAIM,MAAJ,GAAaG,QAAb,GAAwBC,QAAxB,CAAiC;AACzC,oBAAgB,sBADyB;AAEzC,oBAAgB;AAFyB,GAAjC;AAN0B,CAAX,EAUxBK,OAVwB,CAUhB;AAAEC,EAAAA,UAAU,EAAE;AAAd,CAVgB,CAApB,C,CAYP;;;;;AACO,IAAMG,cAAc,GAAGnB,gBAAII,MAAJ,CAAW;AACvCO,EAAAA,KAAK,EAAEX,gBAAIM,MAAJ,GAAaK,KAAb,GAAqBF,QAArB,GAAgCC,QAAhC,CAAyC;AAC9C,oBAAgB,mBAD8B;AAE9C,oBAAgB,kCAF8B;AAG9C,oBAAgB;AAH8B,GAAzC,CADgC;AAMvCQ,EAAAA,QAAQ,EAAElB,gBAAIM,MAAJ,GACPG,QADO,GAEPW,KAFO,CAGN,2DAHM,EAKPV,QALO,CAKE;AACR,oBAAgB,8BADR;AAER,oBAAgB,qCAFR;AAGR,2BACE;AAJM,GALF;AAN6B,CAAX,EAiB3BK,OAjB2B,CAiBnB;AAAEC,EAAAA,UAAU,EAAE;AAAd,CAjBmB,CAAvB","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/utils/schema/","sourcesContent":["import Joi from 'joi';\nimport joiPhone from 'joi-phone-number';\n\nconst customJoi = Joi.extend(joiPhone);\n\n// ================ Account scheama =========================\nexport const accountSchema = Joi.object({\n  fullName: Joi.string().trim().min(2).required().messages({\n    'any.required': 'Full Name is required',\n    'string.empty': 'Full Name is not allowed to be empty',\n    'string.min':\n      'Full Name length must be at least 2 characters long',\n  }),\n  email: Joi.string().email().required().messages({\n    'any.required': 'Email is required',\n    'string.empty': 'Email is not allowed to be empty',\n    'string.email': 'Email must be a valid email',\n  }),\n  phoneNumber: customJoi\n    .string()\n    .phoneNumber({ format: 'international', strict: true })\n    .required()\n    .messages({\n      'any.required': 'Phone Number is required',\n      'string.empty': 'Phone Number is not allowed to be empty',\n      'phoneNumber.invalid':\n        'Phone Number did not seem to be a phone number',\n    })\n}).options({ abortEarly: false });\n\n// ================ Login scheama =========================\nexport const loginSchema = Joi.object({\n  email: Joi.string().email().required().messages({\n    'any.required': 'Email is required',\n    'string.empty': 'Email is not allowed to be empty',\n    'string.email': 'Email must be a valid email',\n  }),\n  password: Joi.string().required().messages({\n    'any.required': 'Password is required',\n    'string.empty': 'Password is not allowed to be empty',\n  }),\n}).options({ abortEarly: false });\n\n// ================ Password scheama =========================\nexport const passwordSchema = Joi.object({\n  email: Joi.string().email().required().messages({\n    'any.required': 'Email is required',\n    'string.empty': 'Email is not allowed to be empty',\n    'string.email': 'Email must be a valid email',\n  }),\n  password: Joi.string()\n    .required()\n    .regex(\n      /^(?=\\S*[a-z])(?=\\S*[A-Z])(?=\\S*\\d)(?=\\S*[^\\w\\s])\\S{8,30}$/,\n    )\n    .messages({\n      'any.required': 'Password is a required field',\n      'string.empty': 'Password is not allowed to be empty',\n      'string.pattern.base':\n        'Password must be at least 8 characters long with a number, Upper and lower cases, and a special character',\n    }),\n}).options({ abortEarly: false });\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"843e7bec11842080778d805db5724591dfa8725b","contentHash":"d652d869674e18d97312552a707209f452f0a76b35d6c99f918228648685b50a"},"/Users/mupenzi/Desktop/minority-backend/src/modules/account/helpers/validation.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/modules/account/helpers/validation.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":11},"end":{"line":10,"column":49}},"4":{"start":{"line":12,"column":22},"end":{"line":12,"column":73}},"5":{"start":{"line":14,"column":20},"end":{"line":14,"column":88}},"6":{"start":{"line":16,"column":16},"end":{"line":16,"column":66}},"7":{"start":{"line":18,"column":20},"end":{"line":43,"column":1}},"8":{"start":{"line":19,"column":15},"end":{"line":40,"column":4}},"9":{"start":{"line":42,"column":2},"end":{"line":42,"column":68}},"10":{"start":{"line":45,"column":15},"end":{"line":45,"column":28}},"11":{"start":{"line":46,"column":0},"end":{"line":46,"column":30}}},"fnMap":{"0":{"name":"editValidUser","decl":{"start":{"line":18,"column":29},"end":{"line":18,"column":42}},"loc":{"start":{"line":18,"column":59},"end":{"line":43,"column":1}},"line":18}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":1,"11":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"sources":["validation.js"],"names":["customJoi","Joi","extend","joiPhone","editValidUser","req","res","next","schema","object","fullname","string","required","messages","email","phone","phoneNumber","format","strict","options","abortEarly","body"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,SAAS,GAAGC,gBAAIC,MAAJ,CAAWC,0BAAX,CAAlB;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxC,MAAMC,MAAM,GAAGP,gBAAIQ,MAAJ,CAAW;AACxBC,IAAAA,QAAQ,EAAET,gBAAIU,MAAJ,GAAaC,QAAb,GAAwBC,QAAxB,CAAiC;AACzC,sBAAgB,uBADyB;AAEzC,sBAAgB,sCAFyB;AAGzC,oBACE;AAJuC,KAAjC,CADc;AAOxBC,IAAAA,KAAK,EAAEb,gBAAIU,MAAJ,GAAaG,KAAb,GAAqBF,QAArB,GAAgCC,QAAhC,CAAyC;AAC9C,sBAAgB,mBAD8B;AAE9C,sBAAgB,kCAF8B;AAG9C,sBAAgB;AAH8B,KAAzC,CAPiB;AAYxBE,IAAAA,KAAK,EAAEf,SAAS,CACbW,MADI,GAEJK,WAFI,CAEQ;AAAEC,MAAAA,MAAM,EAAE,eAAV;AAA2BC,MAAAA,MAAM,EAAE;AAAnC,KAFR,EAGJN,QAHI,GAIJC,QAJI,CAIK;AACR,sBAAgB,0BADR;AAER,sBAAgB,yCAFR;AAGR,6BACE;AAJM,KAJL;AAZiB,GAAX,EAsBZM,OAtBY,CAsBJ;AAAEC,IAAAA,UAAU,EAAE;AAAd,GAtBI,CAAf;;AAuBA,SAAO,8BAAiBZ,MAAjB,EAAyBH,GAAG,CAACgB,IAA7B,EAAmCf,GAAnC,EAAwCC,IAAxC,CAAP;AACD,CAzBD;;eA2BeH,a","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/modules/account/helpers/","sourcesContent":["import Joi from 'joi';\nimport joiPhone from 'joi-phone-number';\nimport handleErrorsUtil from '../../../utils/handle-errors.util';\n\nconst customJoi = Joi.extend(joiPhone);\n\nconst editValidUser = (req, res, next) => {\n  const schema = Joi.object({\n    fullname: Joi.string().required().messages({\n      'any.required': 'Full Name is required',\n      'string.empty': 'Full Name is not allowed to be empty',\n      'string.min':\n        'Full Name length must be at least 2 characters long',\n    }),\n    email: Joi.string().email().required().messages({\n      'any.required': 'Email is required',\n      'string.empty': 'Email is not allowed to be empty',\n      'string.email': 'Email must be a valid email',\n    }),\n    phone: customJoi\n      .string()\n      .phoneNumber({ format: 'international', strict: true })\n      .required()\n      .messages({\n        'any.required': 'Phone Number is required',\n        'string.empty': 'Phone Number is not allowed to be empty',\n        'phoneNumber.invalid':\n          'Phone Number did not seem to be a phone number',\n      })\n  }).options({ abortEarly: false });\n  return handleErrorsUtil(schema, req.body, res, next);\n};\n\nexport default editValidUser;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"893c704800ad6089f554e51c5aa1c9dba2d6e173","contentHash":"c49bf91ab2e250e5928d39c590e72aa26ac571ea8bd03acc37ec79a98c1d92bf"},"/Users/mupenzi/Desktop/minority-backend/src/modules/auth/auth.middleware.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/modules/auth/auth.middleware.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":99}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":18},"end":{"line":14,"column":40}},"6":{"start":{"line":16,"column":12},"end":{"line":16,"column":78}},"7":{"start":{"line":18,"column":16},"end":{"line":18,"column":93}},"8":{"start":{"line":20,"column":16},"end":{"line":20,"column":76}},"9":{"start":{"line":22,"column":14},"end":{"line":22,"column":72}},"10":{"start":{"line":24,"column":36},"end":{"line":62,"column":3}},"11":{"start":{"line":25,"column":13},"end":{"line":57,"column":5}},"12":{"start":{"line":27,"column":4},"end":{"line":56,"column":16}},"13":{"start":{"line":28,"column":6},"end":{"line":55,"column":7}},"14":{"start":{"line":29,"column":8},"end":{"line":54,"column":9}},"15":{"start":{"line":31,"column":12},"end":{"line":31,"column":30}},"16":{"start":{"line":32,"column":12},"end":{"line":34,"column":15}},"17":{"start":{"line":37,"column":12},"end":{"line":37,"column":33}},"18":{"start":{"line":39,"column":12},"end":{"line":42,"column":13}},"19":{"start":{"line":40,"column":14},"end":{"line":40,"column":32}},"20":{"start":{"line":41,"column":14},"end":{"line":41,"column":20}},"21":{"start":{"line":44,"column":12},"end":{"line":44,"column":102}},"22":{"start":{"line":46,"column":12},"end":{"line":46,"column":77}},"23":{"start":{"line":49,"column":12},"end":{"line":49,"column":19}},"24":{"start":{"line":53,"column":12},"end":{"line":53,"column":35}},"25":{"start":{"line":59,"column":2},"end":{"line":61,"column":4}},"26":{"start":{"line":60,"column":4},"end":{"line":60,"column":39}},"27":{"start":{"line":64,"column":0},"end":{"line":64,"column":44}},"28":{"start":{"line":66,"column":44},"end":{"line":114,"column":3}},"29":{"start":{"line":67,"column":14},"end":{"line":109,"column":5}},"30":{"start":{"line":69,"column":4},"end":{"line":108,"column":17}},"31":{"start":{"line":70,"column":6},"end":{"line":107,"column":7}},"32":{"start":{"line":71,"column":8},"end":{"line":106,"column":9}},"33":{"start":{"line":73,"column":12},"end":{"line":73,"column":31}},"34":{"start":{"line":74,"column":12},"end":{"line":76,"column":15}},"35":{"start":{"line":79,"column":12},"end":{"line":79,"column":34}},"36":{"start":{"line":81,"column":12},"end":{"line":84,"column":13}},"37":{"start":{"line":82,"column":14},"end":{"line":82,"column":33}},"38":{"start":{"line":83,"column":14},"end":{"line":83,"column":20}},"39":{"start":{"line":86,"column":12},"end":{"line":86,"column":83}},"40":{"start":{"line":88,"column":12},"end":{"line":88,"column":78}},"41":{"start":{"line":91,"column":12},"end":{"line":94,"column":13}},"42":{"start":{"line":92,"column":14},"end":{"line":92,"column":33}},"43":{"start":{"line":93,"column":14},"end":{"line":93,"column":20}},"44":{"start":{"line":96,"column":12},"end":{"line":96,"column":117}},"45":{"start":{"line":98,"column":12},"end":{"line":98,"column":78}},"46":{"start":{"line":101,"column":12},"end":{"line":101,"column":19}},"47":{"start":{"line":105,"column":12},"end":{"line":105,"column":36}},"48":{"start":{"line":111,"column":2},"end":{"line":113,"column":4}},"49":{"start":{"line":112,"column":4},"end":{"line":112,"column":40}},"50":{"start":{"line":116,"column":0},"end":{"line":116,"column":60}},"51":{"start":{"line":118,"column":39},"end":{"line":159,"column":3}},"52":{"start":{"line":119,"column":14},"end":{"line":154,"column":5}},"53":{"start":{"line":122,"column":4},"end":{"line":153,"column":17}},"54":{"start":{"line":123,"column":6},"end":{"line":152,"column":7}},"55":{"start":{"line":124,"column":8},"end":{"line":151,"column":9}},"56":{"start":{"line":126,"column":12},"end":{"line":126,"column":89}},"57":{"start":{"line":127,"column":12},"end":{"line":127,"column":31}},"58":{"start":{"line":128,"column":12},"end":{"line":130,"column":15}},"59":{"start":{"line":133,"column":12},"end":{"line":133,"column":34}},"60":{"start":{"line":135,"column":12},"end":{"line":138,"column":13}},"61":{"start":{"line":136,"column":14},"end":{"line":136,"column":33}},"62":{"start":{"line":137,"column":14},"end":{"line":137,"column":20}},"63":{"start":{"line":140,"column":12},"end":{"line":140,"column":97}},"64":{"start":{"line":142,"column":12},"end":{"line":142,"column":78}},"65":{"start":{"line":145,"column":12},"end":{"line":145,"column":32}},"66":{"start":{"line":146,"column":12},"end":{"line":146,"column":19}},"67":{"start":{"line":150,"column":12},"end":{"line":150,"column":36}},"68":{"start":{"line":156,"column":2},"end":{"line":158,"column":4}},"69":{"start":{"line":157,"column":4},"end":{"line":157,"column":40}},"70":{"start":{"line":161,"column":0},"end":{"line":161,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":24,"column":36},"end":{"line":24,"column":37}},"loc":{"start":{"line":24,"column":48},"end":{"line":62,"column":1}},"line":24},"1":{"name":"_callee","decl":{"start":{"line":25,"column":100},"end":{"line":25,"column":107}},"loc":{"start":{"line":25,"column":124},"end":{"line":57,"column":3}},"line":25},"2":{"name":"_callee$","decl":{"start":{"line":27,"column":49},"end":{"line":27,"column":57}},"loc":{"start":{"line":27,"column":68},"end":{"line":56,"column":5}},"line":27},"3":{"name":"checkEmailExists","decl":{"start":{"line":59,"column":18},"end":{"line":59,"column":34}},"loc":{"start":{"line":59,"column":49},"end":{"line":61,"column":3}},"line":59},"4":{"name":"(anonymous_4)","decl":{"start":{"line":66,"column":44},"end":{"line":66,"column":45}},"loc":{"start":{"line":66,"column":56},"end":{"line":114,"column":1}},"line":66},"5":{"name":"_callee2","decl":{"start":{"line":67,"column":101},"end":{"line":67,"column":109}},"loc":{"start":{"line":67,"column":126},"end":{"line":109,"column":3}},"line":67},"6":{"name":"_callee2$","decl":{"start":{"line":69,"column":49},"end":{"line":69,"column":58}},"loc":{"start":{"line":69,"column":70},"end":{"line":108,"column":5}},"line":69},"7":{"name":"checkPasswordCredentials","decl":{"start":{"line":111,"column":18},"end":{"line":111,"column":42}},"loc":{"start":{"line":111,"column":58},"end":{"line":113,"column":3}},"line":111},"8":{"name":"(anonymous_8)","decl":{"start":{"line":118,"column":39},"end":{"line":118,"column":40}},"loc":{"start":{"line":118,"column":51},"end":{"line":159,"column":1}},"line":118},"9":{"name":"_callee3","decl":{"start":{"line":119,"column":101},"end":{"line":119,"column":109}},"loc":{"start":{"line":119,"column":126},"end":{"line":154,"column":3}},"line":119},"10":{"name":"_callee3$","decl":{"start":{"line":122,"column":49},"end":{"line":122,"column":58}},"loc":{"start":{"line":122,"column":70},"end":{"line":153,"column":5}},"line":122},"11":{"name":"checkUserCredential","decl":{"start":{"line":156,"column":18},"end":{"line":156,"column":37}},"loc":{"start":{"line":156,"column":53},"end":{"line":158,"column":3}},"line":156}},"branchMap":{"0":{"loc":{"start":{"line":29,"column":8},"end":{"line":54,"column":9}},"type":"switch","locations":[{"start":{"line":30,"column":10},"end":{"line":34,"column":15}},{"start":{"line":36,"column":10},"end":{"line":46,"column":77}},{"start":{"line":48,"column":10},"end":{"line":49,"column":19}},{"start":{"line":51,"column":10},"end":{"line":51,"column":17}},{"start":{"line":52,"column":10},"end":{"line":53,"column":35}}],"line":29},"1":{"loc":{"start":{"line":39,"column":12},"end":{"line":42,"column":13}},"type":"if","locations":[{"start":{"line":39,"column":12},"end":{"line":42,"column":13}},{"start":{"line":39,"column":12},"end":{"line":42,"column":13}}],"line":39},"2":{"loc":{"start":{"line":71,"column":8},"end":{"line":106,"column":9}},"type":"switch","locations":[{"start":{"line":72,"column":10},"end":{"line":76,"column":15}},{"start":{"line":78,"column":10},"end":{"line":88,"column":78}},{"start":{"line":90,"column":10},"end":{"line":98,"column":78}},{"start":{"line":100,"column":10},"end":{"line":101,"column":19}},{"start":{"line":103,"column":10},"end":{"line":103,"column":18}},{"start":{"line":104,"column":10},"end":{"line":105,"column":36}}],"line":71},"3":{"loc":{"start":{"line":81,"column":12},"end":{"line":84,"column":13}},"type":"if","locations":[{"start":{"line":81,"column":12},"end":{"line":84,"column":13}},{"start":{"line":81,"column":12},"end":{"line":84,"column":13}}],"line":81},"4":{"loc":{"start":{"line":91,"column":12},"end":{"line":94,"column":13}},"type":"if","locations":[{"start":{"line":91,"column":12},"end":{"line":94,"column":13}},{"start":{"line":91,"column":12},"end":{"line":94,"column":13}}],"line":91},"5":{"loc":{"start":{"line":124,"column":8},"end":{"line":151,"column":9}},"type":"switch","locations":[{"start":{"line":125,"column":10},"end":{"line":130,"column":15}},{"start":{"line":132,"column":10},"end":{"line":142,"column":78}},{"start":{"line":144,"column":10},"end":{"line":146,"column":19}},{"start":{"line":148,"column":10},"end":{"line":148,"column":17}},{"start":{"line":149,"column":10},"end":{"line":150,"column":36}}],"line":124},"6":{"loc":{"start":{"line":135,"column":12},"end":{"line":138,"column":13}},"type":"if","locations":[{"start":{"line":135,"column":12},"end":{"line":138,"column":13}},{"start":{"line":135,"column":12},"end":{"line":138,"column":13}}],"line":135},"7":{"loc":{"start":{"line":135,"column":18},"end":{"line":135,"column":87}},"type":"binary-expr","locations":[{"start":{"line":135,"column":18},"end":{"line":135,"column":23}},{"start":{"line":135,"column":27},"end":{"line":135,"column":87}}],"line":135}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":1,"28":1,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":0,"50":1,"51":1,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":1,"69":0,"70":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0},"b":{"0":[0,0,0,0,0],"1":[0,0],"2":[0,0,0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0,0,0,0],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"sources":["auth.middleware.js"],"names":["checkEmailExists","req","res","next","InstanceMaintain","findOneData","User","email","body","user","ResponseUtil","setError","CONFLICT","send","checkPasswordCredentials","NOT_FOUND","password","checkUserCredential","BcryptUtil","comparePassword","UNAUTHORIZED","userInfo"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEO,IAAMA,gBAAgB;AAAA,2FAAG,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACXC,qBAAiBC,WAAjB,CAA6BC,gBAA7B,EAAmC;AACpDC,cAAAA,KAAK,EAAEN,GAAG,CAACO,IAAJ,CAASD;AADoC,aAAnC,CADW;;AAAA;AACxBE,YAAAA,IADwB;;AAAA,iBAI1BA,IAJ0B;AAAA;AAAA;AAAA;;AAK5BC,iCAAaC,QAAb,CACEC,oBADF,EAEE,oCAFF;;AAL4B,6CASrBF,qBAAaG,IAAb,CAAkBX,GAAlB,CATqB;;AAAA;AAW9BC,YAAAA,IAAI;;AAX0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAhBH,gBAAgB;AAAA;AAAA;AAAA,GAAtB;;;;AAcA,IAAMc,wBAAwB;AAAA,4FAAG,kBAAOb,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACnBC,qBAAiBC,WAAjB,CAA6BC,gBAA7B,EAAmC;AACpDC,cAAAA,KAAK,EAAEN,GAAG,CAACO,IAAJ,CAASD;AADoC,aAAnC,CADmB;;AAAA;AAChCE,YAAAA,IADgC;;AAAA,gBAIjCA,IAJiC;AAAA;AAAA;AAAA;;AAKpCC,iCAAaC,QAAb,CAAsBI,qBAAtB,EAAiC,gBAAjC;;AALoC,8CAM7BL,qBAAaG,IAAb,CAAkBX,GAAlB,CAN6B;;AAAA;AAAA,iBASlCO,IAAI,CAACO,QAT6B;AAAA;AAAA;AAAA;;AAUpCN,iCAAaC,QAAb,CACEC,oBADF,EAEE,mDAFF;;AAVoC,8CAc7BF,qBAAaG,IAAb,CAAkBX,GAAlB,CAd6B;;AAAA;AAgBtCC,YAAAA,IAAI;;AAhBkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAxBW,wBAAwB;AAAA;AAAA;AAAA,GAA9B;;;;AAmBA,IAAMG,mBAAmB;AAAA,4FAAG,kBAAOhB,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBACLF,GAAG,CAACO,IADC,EACzBD,KADyB,aACzBA,KADyB,EAClBS,QADkB,aAClBA,QADkB;AAAA;AAAA,mBAEdZ,qBAAiBC,WAAjB,CAA6BC,gBAA7B,EAAmC;AAAEC,cAAAA,KAAK,EAALA;AAAF,aAAnC,CAFc;;AAAA;AAE3BE,YAAAA,IAF2B;;AAAA,kBAG7B,CAACA,IAAD,IAAS,CAACS,mBAAWC,eAAX,CAA2BH,QAA3B,EAAqCP,IAAI,CAACO,QAA1C,CAHmB;AAAA;AAAA;AAAA;;AAI/BN,iCAAaC,QAAb,CAAsBS,wBAAtB,EAAoC,2BAApC;;AAJ+B,8CAKxBV,qBAAaG,IAAb,CAAkBX,GAAlB,CALwB;;AAAA;AAOjCD,YAAAA,GAAG,CAACoB,QAAJ,GAAeZ,IAAf;AACAN,YAAAA,IAAI;;AAR6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAnBc,mBAAmB;AAAA;AAAA;AAAA,GAAzB","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/modules/auth/","sourcesContent":["import { CONFLICT, NOT_FOUND, UNAUTHORIZED } from 'http-status';\nimport User from '../../database/model/user.model';\nimport InstanceMaintain from '../../database/maintains/instance.maintain';\nimport ResponseUtil from '../../utils/response.util';\nimport BcryptUtil from '../../utils/Bcrypt.util';\n\nexport const checkEmailExists = async (req, res, next) => {\n  const user = await InstanceMaintain.findOneData(User, {\n    email: req.body.email,\n  });\n  if (user) {\n    ResponseUtil.setError(\n      CONFLICT,\n      'User with this email already exist',\n    );\n    return ResponseUtil.send(res);\n  }\n  next();\n};\n\nexport const checkPasswordCredentials = async (req, res, next) => {\n  const user = await InstanceMaintain.findOneData(User, {\n    email: req.body.email,\n  });\n  if (!user) {\n    ResponseUtil.setError(NOT_FOUND, 'User not found');\n    return ResponseUtil.send(res);\n  }\n\n  if (user.password) {\n    ResponseUtil.setError(\n      CONFLICT,\n      'Error, Account is already secured with a password',\n    );\n    return ResponseUtil.send(res);\n  }\n  next();\n};\n\nexport const checkUserCredential = async (req, res, next) => {\n  const { email, password } = req.body;\n  const user = await InstanceMaintain.findOneData(User, { email });\n  if (!user || !BcryptUtil.comparePassword(password, user.password)) {\n    ResponseUtil.setError(UNAUTHORIZED, 'Invalid email or password');\n    return ResponseUtil.send(res);\n  }\n  req.userInfo = user;\n  next();\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"84523db68cd18ce282a5589501fecba2b0814e2e","contentHash":"dc8f0fc32c434d04851f286af18712dee0968c1927e0e7b813c6d5600468229b"},"/Users/mupenzi/Desktop/minority-backend/src/config/logger.config.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/config/logger.config.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":15},"end":{"line":5,"column":57}},"2":{"start":{"line":7,"column":15},"end":{"line":7,"column":43}},"3":{"start":{"line":8,"column":16},"end":{"line":8,"column":34}},"4":{"start":{"line":10,"column":27},"end":{"line":18,"column":2}},"5":{"start":{"line":11,"column":2},"end":{"line":15,"column":3}},"6":{"start":{"line":12,"column":4},"end":{"line":14,"column":7}},"7":{"start":{"line":17,"column":2},"end":{"line":17,"column":14}},"8":{"start":{"line":20,"column":13},"end":{"line":30,"column":2}},"9":{"start":{"line":23,"column":16},"end":{"line":23,"column":26}},"10":{"start":{"line":24,"column":18},"end":{"line":24,"column":30}},"11":{"start":{"line":25,"column":4},"end":{"line":25,"column":50}},"12":{"start":{"line":32,"column":0},"end":{"line":32,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":54},"end":{"line":10,"column":55}},"loc":{"start":{"line":10,"column":70},"end":{"line":18,"column":1}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":22,"column":262},"end":{"line":22,"column":263}},"loc":{"start":{"line":22,"column":278},"end":{"line":26,"column":3}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":2},"end":{"line":15,"column":3}},"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":15,"column":3}},{"start":{"line":11,"column":2},"end":{"line":15,"column":3}}],"line":11},"1":{"loc":{"start":{"line":21,"column":9},"end":{"line":21,"column":67}},"type":"cond-expr","locations":[{"start":{"line":21,"column":51},"end":{"line":21,"column":58}},{"start":{"line":21,"column":61},"end":{"line":21,"column":67}}],"line":21},"2":{"loc":{"start":{"line":22,"column":69},"end":{"line":22,"column":190}},"type":"cond-expr","locations":[{"start":{"line":22,"column":111},"end":{"line":22,"column":148}},{"start":{"line":22,"column":151},"end":{"line":22,"column":190}}],"line":22}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":1},"f":{"0":0,"1":0},"b":{"0":[0,0],"1":[0,1],"2":[0,1]},"inputSourceMap":{"version":3,"sources":["logger.config.js"],"names":["require","getString","enumerateErrorFormat","winston","format","info","Error","Object","assign","message","stack","logger","createLogger","level","combine","colorize","uncolorize","splat","printf","transports","Console","stderrLevels","module","exports"],"mappings":";;;;AAAA;;eAEsBA,OAAO,CAAC,mBAAD,C;IAArBC,S,YAAAA,S;;AAER,IAAMC,oBAAoB,GAAGC,oBAAQC,MAAR,CAAe,UAACC,IAAD,EAAU;AACpD,MAAIA,IAAI,YAAYC,KAApB,EAA2B;AACzBC,IAAAA,MAAM,CAACC,MAAP,CAAcH,IAAd,EAAoB;AAAEI,MAAAA,OAAO,EAAEJ,IAAI,CAACK;AAAhB,KAApB;AACD;;AACD,SAAOL,IAAP;AACD,CAL4B,CAA7B;;AAOA,IAAMM,MAAM,GAAGR,oBAAQS,YAAR,CAAqB;AAClCC,EAAAA,KAAK,EAAEZ,SAAS,CAAC,UAAD,CAAT,KAA0B,aAA1B,GAA0C,OAA1C,GAAoD,MADzB;AAElCG,EAAAA,MAAM,EAAED,oBAAQC,MAAR,CAAeU,OAAf,CACNZ,oBAAoB,EADd,EAEND,SAAS,CAAC,UAAD,CAAT,KAA0B,aAA1B,GACIE,oBAAQC,MAAR,CAAeW,QAAf,EADJ,GAEIZ,oBAAQC,MAAR,CAAeY,UAAf,EAJE,EAKNb,oBAAQC,MAAR,CAAea,KAAf,EALM,EAMNd,oBAAQC,MAAR,CAAec,MAAf,CACE;AAAA,QAAGL,KAAH,QAAGA,KAAH;AAAA,QAAUJ,OAAV,QAAUA,OAAV;AAAA,qBAA2BI,KAA3B,eAAqCJ,OAArC;AAAA,GADF,CANM,CAF0B;AAYlCU,EAAAA,UAAU,EAAE,CACV,IAAIhB,oBAAQgB,UAAR,CAAmBC,OAAvB,CAA+B;AAC7BC,IAAAA,YAAY,EAAE,CAAC,OAAD;AADe,GAA/B,CADU;AAZsB,CAArB,CAAf;;AAmBAC,MAAM,CAACC,OAAP,GAAiBZ,MAAjB","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/config/","sourcesContent":["import winston from 'winston';\n\nconst { getString } = require('../utils/env.util');\n\nconst enumerateErrorFormat = winston.format((info) => {\n  if (info instanceof Error) {\n    Object.assign(info, { message: info.stack });\n  }\n  return info;\n});\n\nconst logger = winston.createLogger({\n  level: getString('NODE_ENV') === 'development' ? 'debug' : 'info',\n  format: winston.format.combine(\n    enumerateErrorFormat(),\n    getString('NODE_ENV') === 'development'\n      ? winston.format.colorize()\n      : winston.format.uncolorize(),\n    winston.format.splat(),\n    winston.format.printf(\n      ({ level, message }) => `${level}: ${message}`,\n    ),\n  ),\n  transports: [\n    new winston.transports.Console({\n      stderrLevels: ['error'],\n    }),\n  ],\n});\n\nmodule.exports = logger;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e21ac3bcfc8a1570f81e713f120e29f1bbd0cd0f","contentHash":"baafd7a5f7618a888b71696cc19b63e95f24cef0e90ba99e0f87e7aa6132e02b"},"/Users/mupenzi/Desktop/minority-backend/src/utils/env.util.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/utils/env.util.js","statementMap":{"0":{"start":{"line":10,"column":0},"end":{"line":13,"column":2}},"1":{"start":{"line":11,"column":19},"end":{"line":11,"column":91}},"2":{"start":{"line":12,"column":2},"end":{"line":12,"column":45}},"3":{"start":{"line":24,"column":0},"end":{"line":27,"column":2}},"4":{"start":{"line":25,"column":19},"end":{"line":25,"column":90}},"5":{"start":{"line":26,"column":2},"end":{"line":26,"column":49}},"6":{"start":{"line":38,"column":0},"end":{"line":41,"column":2}},"7":{"start":{"line":39,"column":19},"end":{"line":39,"column":90}},"8":{"start":{"line":40,"column":2},"end":{"line":40,"column":57}},"9":{"start":{"line":49,"column":0},"end":{"line":51,"column":2}},"10":{"start":{"line":50,"column":2},"end":{"line":50,"column":60}},"11":{"start":{"line":55,"column":0},"end":{"line":57,"column":2}},"12":{"start":{"line":56,"column":2},"end":{"line":56,"column":53}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":20},"end":{"line":10,"column":21}},"loc":{"start":{"line":10,"column":40},"end":{"line":13,"column":1}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":24,"column":17},"end":{"line":24,"column":18}},"loc":{"start":{"line":24,"column":37},"end":{"line":27,"column":1}},"line":24},"2":{"name":"(anonymous_2)","decl":{"start":{"line":38,"column":19},"end":{"line":38,"column":20}},"loc":{"start":{"line":38,"column":39},"end":{"line":41,"column":1}},"line":38},"3":{"name":"(anonymous_3)","decl":{"start":{"line":49,"column":16},"end":{"line":49,"column":17}},"loc":{"start":{"line":49,"column":28},"end":{"line":51,"column":1}},"line":49},"4":{"name":"(anonymous_4)","decl":{"start":{"line":55,"column":17},"end":{"line":55,"column":18}},"loc":{"start":{"line":55,"column":29},"end":{"line":57,"column":1}},"line":55}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":19},"end":{"line":11,"column":91}},"type":"cond-expr","locations":[{"start":{"line":11,"column":72},"end":{"line":11,"column":84}},{"start":{"line":11,"column":87},"end":{"line":11,"column":91}}],"line":11},"1":{"loc":{"start":{"line":11,"column":19},"end":{"line":11,"column":69}},"type":"binary-expr","locations":[{"start":{"line":11,"column":19},"end":{"line":11,"column":39}},{"start":{"line":11,"column":43},"end":{"line":11,"column":69}}],"line":11},"2":{"loc":{"start":{"line":12,"column":9},"end":{"line":12,"column":44}},"type":"binary-expr","locations":[{"start":{"line":12,"column":9},"end":{"line":12,"column":30}},{"start":{"line":12,"column":34},"end":{"line":12,"column":44}}],"line":12},"3":{"loc":{"start":{"line":25,"column":19},"end":{"line":25,"column":90}},"type":"cond-expr","locations":[{"start":{"line":25,"column":72},"end":{"line":25,"column":84}},{"start":{"line":25,"column":87},"end":{"line":25,"column":90}}],"line":25},"4":{"loc":{"start":{"line":25,"column":19},"end":{"line":25,"column":69}},"type":"binary-expr","locations":[{"start":{"line":25,"column":19},"end":{"line":25,"column":39}},{"start":{"line":25,"column":43},"end":{"line":25,"column":69}}],"line":25},"5":{"loc":{"start":{"line":26,"column":9},"end":{"line":26,"column":48}},"type":"binary-expr","locations":[{"start":{"line":26,"column":9},"end":{"line":26,"column":34}},{"start":{"line":26,"column":38},"end":{"line":26,"column":48}}],"line":26},"6":{"loc":{"start":{"line":39,"column":19},"end":{"line":39,"column":90}},"type":"cond-expr","locations":[{"start":{"line":39,"column":72},"end":{"line":39,"column":84}},{"start":{"line":39,"column":87},"end":{"line":39,"column":90}}],"line":39},"7":{"loc":{"start":{"line":39,"column":19},"end":{"line":39,"column":69}},"type":"binary-expr","locations":[{"start":{"line":39,"column":19},"end":{"line":39,"column":39}},{"start":{"line":39,"column":43},"end":{"line":39,"column":69}}],"line":39},"8":{"loc":{"start":{"line":40,"column":9},"end":{"line":40,"column":56}},"type":"binary-expr","locations":[{"start":{"line":40,"column":9},"end":{"line":40,"column":42}},{"start":{"line":40,"column":46},"end":{"line":40,"column":56}}],"line":40}},"s":{"0":1,"1":2,"2":2,"3":1,"4":0,"5":0,"6":1,"7":0,"8":0,"9":1,"10":0,"11":1,"12":0},"f":{"0":2,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,2],"1":[2,0],"2":[2,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"inputSourceMap":{"version":3,"sources":["env.util.js"],"names":["exports","getString","variable","defaultVal","process","env","getInt","NaN","getFloat","parseFloat","isDev","test","isTest"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,OAAO,CAACC,SAAR,GAAoB,UAACC,QAAD;AAAA,MAAWC,UAAX,uEAAwB,IAAxB;AAAA,SAClBC,OAAO,CAACC,GAAR,CAAYH,QAAZ,KAAyBC,UADP;AAAA,CAApB;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAH,OAAO,CAACM,MAAR,GAAiB,UAACJ,QAAD;AAAA,MAAWC,UAAX,uEAAwBI,GAAxB;AAAA,SACf,IAAIH,OAAO,CAACC,GAAR,CAAYH,QAAZ,CAAJ,IAA6BC,UADd;AAAA,CAAjB;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAH,OAAO,CAACQ,QAAR,GAAmB,UAACN,QAAD;AAAA,MAAWC,UAAX,uEAAwBI,GAAxB;AAAA,SACjBE,UAAU,CAACL,OAAO,CAACC,GAAR,CAAYH,QAAZ,CAAD,CAAV,IAAqCC,UADpB;AAAA,CAAnB;AAGA;AACA;AACA;AACA;AACA;;;AACAH,OAAO,CAACU,KAAR,GAAgB;AAAA,SACd,eAAeC,IAAf,CAAoBX,OAAO,CAACC,SAAR,CAAkB,UAAlB,CAApB,CADc;AAAA,CAAhB;AAGA;;;AACAD,OAAO,CAACY,MAAR,GAAiB;AAAA,SAAM,QAAQD,IAAR,CAAaX,OAAO,CAACC,SAAR,CAAkB,UAAlB,CAAb,CAAN;AAAA,CAAjB","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/utils/","sourcesContent":["/**\n * Get string value from environment variables\n *\n * @param {string} variable - variable name\n * @param {string} [defaultValue] - default value if variable name does not exist\n * @returns {string} returns value under the variable.\n */\nexports.getString = (variable, defaultVal = null) =>\n  process.env[variable] || defaultVal;\n\n/**\n * Get interger value from environment variables\n *\n * @param {string} variable - name of the variable\n * @param {string} [defaultValue] - default value if variable does not exist\n * @param {number} returned value if variable is found and is integer. Otherwise\n *        the function will return `NaN`\n */\nexports.getInt = (variable, defaultVal = NaN) =>\n  1 * process.env[variable] || defaultVal;\n\n/**\n * Get float value from environment variables\n *\n * @param {string} variable - name of the variable\n * @param {string} [defaultValue] - default value if variable does not exist\n * @param {number} returned value if variable is found and a float. Otherwise\n *        the function will return `NaN`\n */\nexports.getFloat = (variable, defaultVal = NaN) =>\n  parseFloat(process.env[variable]) || defaultVal;\n\n/**\n * Returns true if we're in dev mode\n *\n * @returns {boolean}\n */\nexports.isDev = () =>\n  /development/i.test(exports.getString('NODE_ENV'));\n\n/** Returns true if we're in test mode */\nexports.isTest = () => /test/i.test(exports.getString('NODE_ENV'));\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"87e79566d9c9fc981b858d184518a29a7936c9b0","contentHash":"0bf062444779b6bf039391cf8275a9d798484aed54058d47a9e4b924577fdc66"},"/Users/mupenzi/Desktop/minority-backend/src/config/config.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/config/config.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":14},"end":{"line":5,"column":55}},"2":{"start":{"line":7,"column":12},"end":{"line":7,"column":51}},"3":{"start":{"line":9,"column":11},"end":{"line":9,"column":49}},"4":{"start":{"line":11,"column":0},"end":{"line":13,"column":3}},"5":{"start":{"line":15,"column":20},"end":{"line":20,"column":12}},"6":{"start":{"line":22,"column":28},"end":{"line":26,"column":24}},"7":{"start":{"line":27,"column":14},"end":{"line":27,"column":41}},"8":{"start":{"line":28,"column":12},"end":{"line":28,"column":39}},"9":{"start":{"line":30,"column":0},"end":{"line":32,"column":1}},"10":{"start":{"line":31,"column":2},"end":{"line":31,"column":69}},"11":{"start":{"line":34,"column":0},"end":{"line":47,"column":2}}},"fnMap":{},"branchMap":{"0":{"loc":{"start":{"line":30,"column":0},"end":{"line":32,"column":1}},"type":"if","locations":[{"start":{"line":30,"column":0},"end":{"line":32,"column":1}},{"start":{"line":30,"column":0},"end":{"line":32,"column":1}}],"line":30}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":1},"f":{},"b":{"0":[0,1]},"inputSourceMap":{"version":3,"sources":["config.js"],"names":["dotenv","config","path","join","__dirname","envVarsSchema","Joi","object","keys","NODE_ENV","string","valid","required","PORT","number","MONGODB_URL","description","SENDGRID_API_KEY","unknown","prefs","errors","label","validate","process","env","envVars","value","error","Error","message","module","exports","port","sendgrid_api_key","mongoose","url","options","useCreateIndex","useNewUrlParser","useUnifiedTopology","useFindAndModify"],"mappings":";;;;AAAA;;AACA;;AACA;;AAEAA,mBAAOC,MAAP,CAAc;AAAEC,EAAAA,IAAI,EAAEA,iBAAKC,IAAL,CAAUC,SAAV,EAAqB,YAArB;AAAR,CAAd;;AAEA,IAAMC,aAAa,GAAGC,gBAAIC,MAAJ,GACnBC,IADmB,CACd;AACJC,EAAAA,QAAQ,EAAEH,gBAAII,MAAJ,GACPC,KADO,CACD,YADC,EACa,aADb,EAC4B,MAD5B,EAEPC,QAFO,EADN;AAIJC,EAAAA,IAAI,EAAEP,gBAAIQ,MAAJ,cAAqB,IAArB,CAJF;AAKJC,EAAAA,WAAW,EAAET,gBAAII,MAAJ,GAAaE,QAAb,GAAwBI,WAAxB,CAAoC,cAApC,CALT;AAMJC,EAAAA,gBAAgB,EAAEX,gBAAII,MAAJ,GAAaM,WAAb,CAAyB,kBAAzB;AANd,CADc,EASnBE,OATmB,EAAtB;;4BAWkCb,aAAa,CAC5Cc,KAD+B,CACzB;AAAEC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAAV,CADyB,EAE/BC,QAF+B,CAEtBC,OAAO,CAACC,GAFc,C;IAAnBC,O,yBAAPC,K;IAAgBC,K,yBAAAA,K;;AAIxB,IAAIA,KAAJ,EAAW;AACT,QAAM,IAAIC,KAAJ,oCAAsCD,KAAK,CAACE,OAA5C,EAAN;AACD;;AAEDC,MAAM,CAACC,OAAP,GAAiB;AACfP,EAAAA,GAAG,EAAEC,OAAO,CAAChB,QADE;AAEfuB,EAAAA,IAAI,EAAEP,OAAO,CAACZ,IAFC;AAGfoB,EAAAA,gBAAgB,EAAER,OAAO,CAACR,gBAHX;AAIfiB,EAAAA,QAAQ,EAAE;AACRC,IAAAA,GAAG,EAAEV,OAAO,CAACV,WADL;AAERqB,IAAAA,OAAO,EAAE;AACPC,MAAAA,cAAc,EAAE,IADT;AAEPC,MAAAA,eAAe,EAAE,IAFV;AAGPC,MAAAA,kBAAkB,EAAE,IAHb;AAIPC,MAAAA,gBAAgB,EAAE;AAJX;AAFD;AAJK,CAAjB","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/config/","sourcesContent":["import dotenv from 'dotenv';\nimport path from 'path';\nimport Joi from 'joi';\n\ndotenv.config({ path: path.join(__dirname, '../../.env') });\n\nconst envVarsSchema = Joi.object()\n  .keys({\n    NODE_ENV: Joi.string()\n      .valid('production', 'development', 'test')\n      .required(),\n    PORT: Joi.number().default(3000),\n    MONGODB_URL: Joi.string().required().description('Mongo DB url'),\n    SENDGRID_API_KEY: Joi.string().description('Sendgrid API key'),\n  })\n  .unknown();\n\nconst { value: envVars, error } = envVarsSchema\n  .prefs({ errors: { label: 'key' } })\n  .validate(process.env);\n\nif (error) {\n  throw new Error(`Config validation error: ${error.message}`);\n}\n\nmodule.exports = {\n  env: envVars.NODE_ENV,\n  port: envVars.PORT,\n  sendgrid_api_key: envVars.SENDGRID_API_KEY,\n  mongoose: {\n    url: envVars.MONGODB_URL,\n    options: {\n      useCreateIndex: true,\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n      useFindAndModify: false,\n    },\n  },\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4758fc2176a4ca71a26921690c68a7838be85490","contentHash":"bf9569835bce9becf0b2df62b3ed48674e816075c5b5cb6cff57356ecdf12574"},"/Users/mupenzi/Desktop/minority-backend/src/utils/fixtures/database.fixture.js":{"path":"/Users/mupenzi/Desktop/minority-backend/src/utils/fixtures/database.fixture.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":12},"end":{"line":14,"column":78}},"6":{"start":{"line":16,"column":15},"end":{"line":16,"column":84}},"7":{"start":{"line":18,"column":34},"end":{"line":42,"column":3}},"8":{"start":{"line":19,"column":13},"end":{"line":37,"column":5}},"9":{"start":{"line":20,"column":4},"end":{"line":36,"column":16}},"10":{"start":{"line":21,"column":6},"end":{"line":35,"column":7}},"11":{"start":{"line":22,"column":8},"end":{"line":34,"column":9}},"12":{"start":{"line":24,"column":12},"end":{"line":24,"column":30}},"13":{"start":{"line":25,"column":12},"end":{"line":25,"column":51}},"14":{"start":{"line":28,"column":12},"end":{"line":28,"column":30}},"15":{"start":{"line":29,"column":12},"end":{"line":29,"column":54}},"16":{"start":{"line":33,"column":12},"end":{"line":33,"column":35}},"17":{"start":{"line":39,"column":2},"end":{"line":41,"column":4}},"18":{"start":{"line":40,"column":4},"end":{"line":40,"column":39}},"19":{"start":{"line":44,"column":15},"end":{"line":44,"column":29}},"20":{"start":{"line":45,"column":0},"end":{"line":45,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":18,"column":34},"end":{"line":18,"column":35}},"loc":{"start":{"line":18,"column":46},"end":{"line":42,"column":1}},"line":18},"1":{"name":"_callee","decl":{"start":{"line":19,"column":100},"end":{"line":19,"column":107}},"loc":{"start":{"line":19,"column":110},"end":{"line":37,"column":3}},"line":19},"2":{"name":"_callee$","decl":{"start":{"line":20,"column":49},"end":{"line":20,"column":57}},"loc":{"start":{"line":20,"column":68},"end":{"line":36,"column":5}},"line":20},"3":{"name":"cleanAllTables","decl":{"start":{"line":39,"column":18},"end":{"line":39,"column":32}},"loc":{"start":{"line":39,"column":35},"end":{"line":41,"column":3}},"line":39}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":8},"end":{"line":34,"column":9}},"type":"switch","locations":[{"start":{"line":23,"column":10},"end":{"line":25,"column":51}},{"start":{"line":27,"column":10},"end":{"line":29,"column":54}},{"start":{"line":31,"column":10},"end":{"line":31,"column":17}},{"start":{"line":32,"column":10},"end":{"line":33,"column":35}}],"line":22}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"f":{"0":0,"1":0,"2":0,"3":0},"b":{"0":[0,0,0,0]},"inputSourceMap":{"version":3,"sources":["database.fixture.js"],"names":["cleanAllTables","User","deleteMany","Service"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,cAAc;AAAA,2FAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACfC,iBAAKC,UAAL,CAAgB,EAAhB,CADe;;AAAA;AAAA;AAAA,mBAEfC,oBAAQD,UAAR,CAAmB,EAAnB,CAFe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAdF,cAAc;AAAA;AAAA;AAAA,GAApB;;eAKeA,c","sourceRoot":"/Users/mupenzi/Desktop/minority-backend/src/utils/fixtures/","sourcesContent":["import User from '../../database/model/user.model';\nimport Service from '../../database/model/service.model';\n\nconst cleanAllTables = async () => {\n  await User.deleteMany({});\n  await Service.deleteMany({});\n};\n\nexport default cleanAllTables;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7d0070cf31cb3dace7cbf87bcee2e0c77bacd61d","contentHash":"b3ac7f657f71d125eed379fdabb5ead774ac9e0e7d50a8fd950fb7dd2fbb2f33"}}